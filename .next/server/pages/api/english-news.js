"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/english-news";
exports.ids = ["pages/api/english-news"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/english-news.js */ \"(api)/./pages/api/english-news.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/english-news\",\n        pathname: \"/api/english-news\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmVuZ2xpc2gtbmV3cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZW5nbGlzaC1uZXdzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3dEO0FBQ3hEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8/ZGMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2VuZ2xpc2gtbmV3cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/english-news.js":
/*!***********************************!*\
  !*** ./pages/api/english-news.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! openai */ \"openai\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_0__]);\nopenai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Cache configuration\nconst CACHE_DURATION = 15 * 60 * 1000; // 15 minutes in milliseconds\nconst CACHE_FILE = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"news-cache.json\");\n// Background generation state\nlet backgroundInterval = null;\nlet isGenerating = false;\n// Check if cache exists (we'll always serve from cache if it exists)\nfunction cacheExists() {\n    try {\n        return fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(CACHE_FILE);\n    } catch (error) {\n        console.error(\"âŒ Error checking cache:\", error);\n        return false;\n    }\n}\n// Check if cache needs refresh (for background generation)\nfunction cacheNeedsRefresh() {\n    try {\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(CACHE_FILE)) {\n            return true;\n        }\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(CACHE_FILE, \"utf8\"));\n        const now = Date.now();\n        const cacheAge = now - cacheData.timestamp;\n        return cacheAge >= CACHE_DURATION;\n    } catch (error) {\n        console.error(\"âŒ Error reading cache for refresh check:\", error);\n        return true;\n    }\n}\n// Load cached news with self-recovery\nfunction loadCachedNews() {\n    try {\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(CACHE_FILE, \"utf8\"));\n        // Validate cache structure\n        if (!cacheData.articles || !Array.isArray(cacheData.articles) || cacheData.articles.length === 0) {\n            throw new Error(\"Invalid cache structure or empty articles\");\n        }\n        console.log(`âœ… Loaded ${cacheData.articles.length} cached articles`);\n        return cacheData.articles;\n    } catch (error) {\n        console.error(\"âŒ Error loading cached news:\", error);\n        // Self-recovery: delete corrupt cache file\n        try {\n            if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(CACHE_FILE)) {\n                fs__WEBPACK_IMPORTED_MODULE_1___default().unlinkSync(CACHE_FILE);\n                console.log(\"\\uD83D\\uDDD1ï¸ Deleted corrupt cache file for self-recovery\");\n            }\n        } catch (deleteError) {\n            console.error(\"âŒ Failed to delete corrupt cache:\", deleteError);\n        }\n        return null;\n    }\n}\n// Save news to cache\nfunction saveToCache(articles) {\n    try {\n        const cacheData = {\n            articles: articles,\n            timestamp: Date.now(),\n            generatedAt: new Date().toISOString()\n        };\n        fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(CACHE_FILE, JSON.stringify(cacheData, null, 2));\n        console.log(`ðŸ’¾ Saved ${articles.length} articles to cache`);\n    } catch (error) {\n        console.error(\"âŒ Error saving to cache:\", error);\n    }\n}\n// Background news generation\nasync function generateNewsInBackground() {\n    if (isGenerating) {\n        console.log(\"\\uD83D\\uDD04 News generation already in progress, skipping...\");\n        return;\n    }\n    if (!cacheNeedsRefresh()) {\n        console.log(\"\\uD83D\\uDCC1 Cache still fresh, skipping background generation\");\n        return;\n    }\n    isGenerating = true;\n    console.log(\"\\uD83D\\uDD04 Background: Generating fresh news...\");\n    try {\n        const articles = await generateEnglishNews();\n        saveToCache(articles);\n        console.log(\"âœ… Background: News updated successfully\");\n    } catch (error) {\n        console.error(\"âŒ Background generation failed:\", error);\n    } finally{\n        isGenerating = false;\n    }\n}\n// Start background news generation\nfunction startBackgroundGeneration() {\n    if (backgroundInterval) {\n        return; // Already running\n    }\n    console.log(\"\\uD83D\\uDE80 Starting background news generation (every 15 minutes)\");\n    // Generate immediately if cache needs refresh\n    if (cacheNeedsRefresh()) {\n        generateNewsInBackground();\n    }\n    // Set interval for ongoing generation\n    backgroundInterval = setInterval(generateNewsInBackground, CACHE_DURATION);\n}\n// Simple function to generate fresh news\nasync function generateEnglishNews() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Generating fresh English news...\");\n        const response = await openai.chat.completions.create({\n            model: \"gpt-4o-mini\",\n            messages: [\n                {\n                    role: \"system\",\n                    content: \"Ð’Ñ‹ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€ÑƒÑÑÐºÐ¾ÑÐ·Ñ‹Ñ‡Ð½Ñ‹Ð¹ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð½Ð¾Ð¹ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€, ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ð¹ÑÑ Ð½Ð° Ð¾ÑÐ²ÐµÑ‰ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ð° Ð£ÐºÑ€Ð°Ð¸Ð½Ð°-Ð Ð¾ÑÑÐ¸Ñ, Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐµ Ð¢Ñ€Ð°Ð¼Ð¿Ð° Ð¸ Ð°Ð½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ð¾Ð¹ Ð¶ÑƒÑ€Ð½Ð°Ð»Ð¸ÑÑ‚Ð¸ÐºÐµ. Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ ÑƒÐ±ÐµÐ´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð½Ñ‹Ðµ ÑÑŽÐ¶ÐµÑ‚Ñ‹ Ð½Ð° ÑÑ‚Ð¸ Ñ‚ÐµÐ¼Ñ‹ Ñ Ð°Ð½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ð¾Ð¹ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÐµÐ¹, Ð´ÐµÐ»Ð°Ñ Ð°ÐºÑ†ÐµÐ½Ñ‚ Ð½Ð° Ð³ÑƒÐ¼Ð°Ð½Ð¸Ñ‚Ð°Ñ€Ð½Ñ‹Ñ… Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ñ… Ð¸ ÑƒÑÐ¸Ð»Ð¸ÑÑ… Ð¿Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸ÑŽ Ð¼Ð¸Ñ€Ð°.\"\n                },\n                {\n                    role: \"user\",\n                    content: `Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ 30 Ð´Ñ€Ð°Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ñ‹Ñ… Ð¸ Ð·Ð°Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ñ… Ñ€ÑƒÑÑÐºÐ¾ÑÐ·Ñ‹Ñ‡Ð½Ñ‹Ñ… Ð½Ð¾Ð²Ð¾ÑÑ‚Ð½Ñ‹Ñ… ÑÑŽÐ¶ÐµÑ‚Ð¾Ð² Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ, ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡ÐµÐ½Ð½Ñ‹Ñ… Ð½Ð°:\n1. Ð Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ð° Ð£ÐºÑ€Ð°Ð¸Ð½Ð°-Ð Ð¾ÑÑÐ¸Ñ\n2. ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸ Ð¾ Ð¢Ñ€Ð°Ð¼Ð¿Ðµ, ÑÐ²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ Ñ Ð²Ð½ÐµÑˆÐ½ÐµÐ¹ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¾Ð¹\n3. ÐÐ½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹ Ð¸ Ð¼Ð¸Ñ€Ð½Ñ‹Ðµ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ñ‚Ð¸Ð²Ñ‹\n4. Ð“ÑƒÐ¼Ð°Ð½Ð¸Ñ‚Ð°Ñ€Ð½Ñ‹Ðµ Ð¿Ð¾ÑÐ»ÐµÐ´ÑÑ‚Ð²Ð¸Ñ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ð¾Ð²\n5. ÐœÐµÐ¶Ð´ÑƒÐ½Ð°Ñ€Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð¸Ð¿Ð»Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑƒÑÐ¸Ð»Ð¸Ñ\n\nÐŸÐ¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚Ðµ Ðº ÑÑŽÐ¶ÐµÑ‚Ð°Ð¼ Ñ Ð°Ð½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ð¾Ð¹ Ñ€ÐµÐ´Ð°ÐºÑ†Ð¸Ð¾Ð½Ð½Ð¾Ð¹ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸ÐµÐ¹, ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ Ð”Ð ÐÐœÐÐ¢Ð˜Ð§ÐÐ«Ð• Ð¸ Ð­ÐœÐžÐ¦Ð˜ÐžÐÐÐ›Ð¬ÐÐ«Ð• Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸, Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ñ:\n- Ð§ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÐºÐ¸Ðµ Ð¿Ð¾Ñ‚ÐµÑ€Ð¸ Ð¾Ñ‚ Ð²Ð¾Ð¹Ð½Ñ‹\n- Ð£ÑÐ¸Ð»Ð¸Ñ Ð¿Ð¾ Ð¼Ð¸Ñ€Ð½Ñ‹Ð¼ Ð¿ÐµÑ€ÐµÐ³Ð¾Ð²Ð¾Ñ€Ð°Ð¼\n- Ð’Ð¾Ð·Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð½Ð° Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½ÑÐºÐ¸Ñ… Ð»Ð¸Ñ† Ð¸ Ð³ÑƒÐ¼Ð°Ð½Ð¸Ñ‚Ð°Ñ€Ð½Ñ‹Ðµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸\n- ÐÐ½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð¸Ð·Ð¼ Ð¸ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ\n- Ð”Ð¸Ð¿Ð»Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð²Ð¼ÐµÑÑ‚Ð¾ Ð²Ð¾ÐµÐ½Ð½Ñ‹Ñ…\n\nÐ˜Ð¡ÐŸÐžÐ›Ð¬Ð—Ð£Ð™Ð¢Ð• Ð”Ð ÐÐœÐÐ¢Ð˜Ð§ÐÐ«Ð• Ð—ÐÐ“ÐžÐ›ÐžÐ’ÐšÐ˜: ÑÐ¼Ð¾Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ, Ð·Ð°Ñ…Ð²Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ðµ, Ñ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ ÑÐ»Ð¾Ð²Ð°Ð¼Ð¸. ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ ÑÑ‚Ð¸Ð»Ñ: \"Ð¡Ð ÐžÐ§ÐÐž:\", \"Ð¨ÐžÐšÐ˜Ð Ð£Ð®Ð©Ð˜Ð• Ð´Ð°Ð½Ð½Ñ‹Ðµ:\", \"ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐÐ¯ ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ:\", \"Ð¢Ð Ð•Ð’ÐžÐ–ÐÐ«Ð• ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹:\"\n\nÐ’ÐµÑ€Ð½Ð¸Ñ‚Ðµ Ð¢ÐžÐ›Ð¬ÐšÐž ÑÑ‚Ð¾Ñ‚ JSON Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚:\n{\n  \"articles\": [\n    {\n      \"id\": 1,\n      \"title\": \"Ð¡Ñ€Ð¾Ñ‡Ð½Ð¾: Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÐºÑ€ÑƒÐ¿Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ\",\n      \"summary\": \"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ñ€ÐµÐ·ÑŽÐ¼Ðµ Ñ Ð°ÐºÑ†ÐµÐ½Ñ‚Ð¾Ð¼ Ð½Ð° Ð³ÑƒÐ¼Ð°Ð½Ð¸Ñ‚Ð°Ñ€Ð½Ð¾Ðµ Ð²Ð¾Ð·Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð¸Ð»Ð¸ ÑƒÑÐ¸Ð»Ð¸Ñ Ð¿Ð¾ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸ÑŽ Ð¼Ð¸Ñ€Ð°.\",\n      \"fullContent\": \"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ Ñ Ð°ÐºÑ†ÐµÐ½Ñ‚Ð¾Ð¼ Ð½Ð° Ñ‡ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÐºÐ¸Ðµ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸, Ð¼Ð¸Ñ€Ð½Ñ‹Ðµ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ñ‚Ð¸Ð²Ñ‹ Ð¸Ð»Ð¸ Ð°Ð½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹. ÐÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹, Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÑŽÑ‰Ð¸Ñ… Ð²ÑÐµÑÑ‚Ð¾Ñ€Ð¾Ð½Ð½ÐµÐµ Ð¾ÑÐ²ÐµÑ‰ÐµÐ½Ð¸Ðµ.\",\n      \"importance\": \"Breaking\",\n      \"source\": \"Reuters\",\n      \"category\": \"Ukraine-Russia\"\n    }\n  ]\n}\n\nÐ˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸: \"Ð£ÐºÑ€Ð°Ð¸Ð½Ð°-Ð Ð¾ÑÑÐ¸Ñ\", \"ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð¢Ñ€Ð°Ð¼Ð¿Ð°\", \"ÐœÐ¸Ñ€Ð½Ñ‹Ðµ ÑƒÑÐ¸Ð»Ð¸Ñ\", \"Ð“ÑƒÐ¼Ð°Ð½Ð¸Ñ‚Ð°Ñ€Ð½Ñ‹Ðµ\", \"Ð”Ð¸Ð¿Ð»Ð¾Ð¼Ð°Ñ‚Ð¸Ñ\", \"ÐÐ½Ñ‚Ð¸Ð²Ð¾ÐµÐ½Ð½Ð¾Ðµ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ðµ\". Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ñ‚Ð¸Ð¿Ð° Reuters, AP News, BBC News, CNN, Bloomberg, NPR. Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ð¹Ñ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ð¸ÑÑ‚Ñ‹Ð¹ JSON.`\n                }\n            ],\n            response_format: {\n                type: \"json_object\"\n            }\n        });\n        const newsData = JSON.parse(response.choices[0].message.content);\n        // Ensure proper structure\n        if (!newsData.articles || !Array.isArray(newsData.articles)) {\n            throw new Error(\"Invalid news data structure\");\n        }\n        // Add timestamps and ensure IDs\n        const articles = newsData.articles.map((article, index)=>({\n                id: Date.now() + index,\n                rank: index + 1,\n                title: article.title,\n                summary: article.summary,\n                fullContent: article.fullContent || article.summary + \" This is a developing story.\",\n                importance: article.importance || \"Moderate\",\n                source: article.source || \"Reuters\",\n                category: article.category || \"World\",\n                publishedAt: new Date().toISOString()\n            }));\n        console.log(`âœ… Generated ${articles.length} English news articles`);\n        return articles;\n    } catch (error) {\n        console.error(\"âŒ Error generating English news:\", error);\n        // Return fallback English news\n        return [\n            {\n                id: Date.now(),\n                rank: 1,\n                title: \"Breaking: News System Active\",\n                summary: \"The automated English news generation system is now operational and providing fresh content.\",\n                fullContent: \"Our new English news system has been successfully deployed and is generating fresh, professional news content in real-time. The system uses advanced AI to create breaking news stories covering global events, politics, economics, technology, and culture. This ensures users always have access to current, engaging news content in English.\",\n                importance: \"Breaking\",\n                source: \"News System\",\n                category: \"Technology\",\n                publishedAt: new Date().toISOString()\n            }\n        ];\n    }\n}\nasync function handler(req, res) {\n    // Set CORS headers\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    try {\n        const { page = 1, limit = 30 } = req.query;\n        let allArticles;\n        let cacheStatus;\n        // Start background generation on first request\n        startBackgroundGeneration();\n        // Always try to serve from cache first\n        if (cacheExists()) {\n            allArticles = loadCachedNews();\n            if (allArticles && allArticles.length > 0) {\n                cacheStatus = \"instant\";\n                console.log(\"âš¡ Serving cached news instantly\");\n            } else {\n                // Cache exists but is corrupted/invalid - generate fresh\n                console.log(\"\\uD83D\\uDD04 Cache corrupted, generating fresh news...\");\n                allArticles = await generateEnglishNews();\n                saveToCache(allArticles);\n                cacheStatus = \"recovered\";\n            }\n        } else {\n            // Only generate synchronously if no cache exists at all (first time)\n            console.log(\"\\uD83D\\uDD04 No cache found, generating initial news...\");\n            allArticles = await generateEnglishNews();\n            saveToCache(allArticles);\n            cacheStatus = \"initial\";\n        }\n        // Handle pagination\n        const pageNumber = parseInt(page);\n        const limitNumber = parseInt(limit);\n        const startIndex = (pageNumber - 1) * limitNumber;\n        const endIndex = startIndex + limitNumber;\n        const paginatedArticles = allArticles.slice(startIndex, endIndex);\n        res.status(200).json({\n            articles: paginatedArticles,\n            total: allArticles.length,\n            page: pageNumber,\n            hasMore: endIndex < allArticles.length,\n            type: \"english_with_cache\",\n            cacheStatus: cacheStatus,\n            updatedAt: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Failed to load English news\",\n            message: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWNsRDtZQUVkLElBQUlrRCxlQUFlQSxZQUFZOUMsTUFBTSxHQUFHLEdBQUc7Z0JBQ3pDK0MsY0FBYztnQkFDZDdELFFBQVFnQixHQUFHLENBQUM7WUFDZCxPQUFPO2dCQUNMLHlEQUF5RDtnQkFDekRoQixRQUFRZ0IsR0FBRyxDQUFDO2dCQUNaNEMsY0FBYyxNQUFNbkM7Z0JBQ3BCTixZQUFZeUM7Z0JBQ1pDLGNBQWM7WUFDaEI7UUFDRixPQUFPO1lBQ0wscUVBQXFFO1lBQ3JFN0QsUUFBUWdCLEdBQUcsQ0FBQztZQUNaNEMsY0FBYyxNQUFNbkM7WUFDcEJOLFlBQVl5QztZQUNaQyxjQUFjO1FBQ2hCO1FBRUEsb0JBQW9CO1FBQ3BCLE1BQU1DLGFBQWFDLFNBQVNOO1FBQzVCLE1BQU1PLGNBQWNELFNBQVNMO1FBQzdCLE1BQU1PLGFBQWEsQ0FBQ0gsYUFBYSxLQUFLRTtRQUN0QyxNQUFNRSxXQUFXRCxhQUFhRDtRQUU5QixNQUFNRyxvQkFBb0JQLFlBQVlRLEtBQUssQ0FBQ0gsWUFBWUM7UUFFeERYLElBQUljLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkIzRCxVQUFVd0Q7WUFDVkksT0FBT1gsWUFBWTlDLE1BQU07WUFDekIyQyxNQUFNSztZQUNOVSxTQUFTTixXQUFXTixZQUFZOUMsTUFBTTtZQUN0Q3VCLE1BQU07WUFDTndCLGFBQWFBO1lBQ2JZLFdBQVcsSUFBSWxFLE9BQU9jLFdBQVc7UUFDbkM7SUFFRixFQUFFLE9BQU90QixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxjQUFjQTtRQUM1QndELElBQUljLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDbkJ2RSxPQUFPO1lBQ1B5QyxTQUFTekMsTUFBTXlDLE9BQU87UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8uL3BhZ2VzL2FwaS9lbmdsaXNoLW5ld3MuanM/MDNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgT3BlbkFJIGZyb20gXCJvcGVuYWlcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoeyBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIH0pO1xuXG4vLyBDYWNoZSBjb25maWd1cmF0aW9uXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDE1ICogNjAgKiAxMDAwOyAvLyAxNSBtaW51dGVzIGluIG1pbGxpc2Vjb25kc1xuY29uc3QgQ0FDSEVfRklMRSA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnbmV3cy1jYWNoZS5qc29uJyk7XG5cbi8vIEJhY2tncm91bmQgZ2VuZXJhdGlvbiBzdGF0ZVxubGV0IGJhY2tncm91bmRJbnRlcnZhbCA9IG51bGw7XG5sZXQgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG5cbi8vIENoZWNrIGlmIGNhY2hlIGV4aXN0cyAod2UnbGwgYWx3YXlzIHNlcnZlIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzKVxuZnVuY3Rpb24gY2FjaGVFeGlzdHMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIGNhY2hlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gQ2hlY2sgaWYgY2FjaGUgbmVlZHMgcmVmcmVzaCAoZm9yIGJhY2tncm91bmQgZ2VuZXJhdGlvbilcbmZ1bmN0aW9uIGNhY2hlTmVlZHNSZWZyZXNoKCkge1xuICB0cnkge1xuICAgIGlmICghZnMuZXhpc3RzU3luYyhDQUNIRV9GSUxFKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVBZ2UgPSBub3cgLSBjYWNoZURhdGEudGltZXN0YW1wO1xuICAgIFxuICAgIHJldHVybiBjYWNoZUFnZSA+PSBDQUNIRV9EVVJBVElPTjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgcmVhZGluZyBjYWNoZSBmb3IgcmVmcmVzaCBjaGVjazonLCBlcnJvcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLy8gTG9hZCBjYWNoZWQgbmV3cyB3aXRoIHNlbGYtcmVjb3ZlcnlcbmZ1bmN0aW9uIGxvYWRDYWNoZWROZXdzKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNhY2hlIHN0cnVjdHVyZVxuICAgIGlmICghY2FjaGVEYXRhLmFydGljbGVzIHx8ICFBcnJheS5pc0FycmF5KGNhY2hlRGF0YS5hcnRpY2xlcykgfHwgY2FjaGVEYXRhLmFydGljbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNhY2hlIHN0cnVjdHVyZSBvciBlbXB0eSBhcnRpY2xlcycpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIExvYWRlZCAke2NhY2hlRGF0YS5hcnRpY2xlcy5sZW5ndGh9IGNhY2hlZCBhcnRpY2xlc2ApO1xuICAgIHJldHVybiBjYWNoZURhdGEuYXJ0aWNsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgY2FjaGVkIG5ld3M6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFNlbGYtcmVjb3Zlcnk6IGRlbGV0ZSBjb3JydXB0IGNhY2hlIGZpbGVcbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSkpIHtcbiAgICAgICAgZnMudW5saW5rU3luYyhDQUNIRV9GSUxFKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gRGVsZXRlZCBjb3JydXB0IGNhY2hlIGZpbGUgZm9yIHNlbGYtcmVjb3ZlcnknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChkZWxldGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBkZWxldGUgY29ycnVwdCBjYWNoZTonLCBkZWxldGVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIFNhdmUgbmV3cyB0byBjYWNoZVxuZnVuY3Rpb24gc2F2ZVRvQ2FjaGUoYXJ0aWNsZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYWNoZURhdGEgPSB7XG4gICAgICBhcnRpY2xlczogYXJ0aWNsZXMsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKENBQ0hFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlRGF0YSwgbnVsbCwgMikpO1xuICAgIGNvbnNvbGUubG9nKGDwn5K+IFNhdmVkICR7YXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlcyB0byBjYWNoZWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgdG8gY2FjaGU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEJhY2tncm91bmQgbmV3cyBnZW5lcmF0aW9uXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU5ld3NJbkJhY2tncm91bmQoKSB7XG4gIGlmIChpc0dlbmVyYXRpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBOZXdzIGdlbmVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcuLi4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWNhY2hlTmVlZHNSZWZyZXNoKCkpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TgSBDYWNoZSBzdGlsbCBmcmVzaCwgc2tpcHBpbmcgYmFja2dyb3VuZCBnZW5lcmF0aW9uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgY29uc29sZS5sb2coJ/CflIQgQmFja2dyb3VuZDogR2VuZXJhdGluZyBmcmVzaCBuZXdzLi4uJyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgZ2VuZXJhdGVFbmdsaXNoTmV3cygpO1xuICAgIHNhdmVUb0NhY2hlKGFydGljbGVzKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhY2tncm91bmQ6IE5ld3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQmFja2dyb3VuZCBnZW5lcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gU3RhcnQgYmFja2dyb3VuZCBuZXdzIGdlbmVyYXRpb25cbmZ1bmN0aW9uIHN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24oKSB7XG4gIGlmIChiYWNrZ3JvdW5kSW50ZXJ2YWwpIHtcbiAgICByZXR1cm47IC8vIEFscmVhZHkgcnVubmluZ1xuICB9XG4gIFxuICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBiYWNrZ3JvdW5kIG5ld3MgZ2VuZXJhdGlvbiAoZXZlcnkgMTUgbWludXRlcyknKTtcbiAgXG4gIC8vIEdlbmVyYXRlIGltbWVkaWF0ZWx5IGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgaWYgKGNhY2hlTmVlZHNSZWZyZXNoKCkpIHtcbiAgICBnZW5lcmF0ZU5ld3NJbkJhY2tncm91bmQoKTtcbiAgfVxuICBcbiAgLy8gU2V0IGludGVydmFsIGZvciBvbmdvaW5nIGdlbmVyYXRpb25cbiAgYmFja2dyb3VuZEludGVydmFsID0gc2V0SW50ZXJ2YWwoZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kLCBDQUNIRV9EVVJBVElPTik7XG59XG5cbi8vIFNpbXBsZSBmdW5jdGlvbiB0byBnZW5lcmF0ZSBmcmVzaCBuZXdzXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUVuZ2xpc2hOZXdzKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIEdlbmVyYXRpbmcgZnJlc2ggRW5nbGlzaCBuZXdzLi4uJyk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvcGVuYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIixcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFwi0JLRiyDQv9GA0L7RhNC10YHRgdC40L7QvdCw0LvRjNC90YvQuSDRgNGD0YHRgdC60L7Rj9C30YvRh9C90YvQuSDQvdC+0LLQvtGB0YLQvdC+0Lkg0YDQtdC00LDQutGC0L7RgCwg0YHQv9C10YbQuNCw0LvQuNC30LjRgNGD0Y7RidC40LnRgdGPINC90LAg0L7RgdCy0LXRidC10L3QuNC4INC60L7QvdGE0LvQuNC60YLQsCDQo9C60YDQsNC40L3QsC3QoNC+0YHRgdC40Y8sINC/0L7Qu9C40YLQuNC60LUg0KLRgNCw0LzQv9CwINC4INCw0L3RgtC40LLQvtC10L3QvdC+0Lkg0LbRg9GA0L3QsNC70LjRgdGC0LjQutC1LiDQodC+0LfQtNCw0LLQsNC50YLQtSDRg9Cx0LXQtNC40YLQtdC70YzQvdGL0LUg0L3QvtCy0L7RgdGC0L3Ri9C1INGB0Y7QttC10YLRiyDQvdCwINGN0YLQuCDRgtC10LzRiyDRgSDQsNC90YLQuNCy0L7QtdC90L3QvtC5INC/0L7Qt9C40YbQuNC10LksINC00LXQu9Cw0Y8g0LDQutGG0LXQvdGCINC90LAg0LPRg9C80LDQvdC40YLQsNGA0L3Ri9GFINCy0L7Qv9GA0L7RgdCw0YUg0Lgg0YPRgdC40LvQuNGP0YUg0L/QviDQtNC+0YHRgtC40LbQtdC90LjRjiDQvNC40YDQsC5cIlxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsIFxuICAgICAgICAgIGNvbnRlbnQ6IGDQodC+0LfQtNCw0LnRgtC1IDMwINC00YDQsNC80LDRgtC40YfQvdGL0YUg0Lgg0LfQsNGF0LLQsNGC0YvQstCw0Y7RidC40YUg0YDRg9GB0YHQutC+0Y/Qt9GL0YfQvdGL0YUg0L3QvtCy0L7RgdGC0L3Ri9GFINGB0Y7QttC10YLQvtCyINC90LAg0YHQtdCz0L7QtNC90Y8sINGB0L7RgdGA0LXQtNC+0YLQvtGH0LXQvdC90YvRhSDQvdCwOlxuMS4g0KDQsNC30LLQuNGC0LjQtSDQutC+0L3RhNC70LjQutGC0LAg0KPQutGA0LDQuNC90LAt0KDQvtGB0YHQuNGPXG4yLiDQn9C+0LvQuNGC0LjRh9C10YHQutC40LUg0L3QvtCy0L7RgdGC0Lgg0L4g0KLRgNCw0LzQv9C1LCDRgdCy0Y/Qt9Cw0L3QvdGL0LUg0YEg0LLQvdC10YjQvdC10Lkg0L/QvtC70LjRgtC40LrQvtC5XG4zLiDQkNC90YLQuNCy0L7QtdC90L3Ri9C1INC/0LXRgNGB0L/QtdC60YLQuNCy0Ysg0Lgg0LzQuNGA0L3Ri9C1INC40L3QuNGG0LjQsNGC0LjQstGLXG40LiDQk9GD0LzQsNC90LjRgtCw0YDQvdGL0LUg0L/QvtGB0LvQtdC00YHRgtCy0LjRjyDQutC+0L3RhNC70LjQutGC0L7QslxuNS4g0JzQtdC20LTRg9C90LDRgNC+0LTQvdGL0LUg0LTQuNC/0LvQvtC80LDRgtC40YfQtdGB0LrQuNC1INGD0YHQuNC70LjRj1xuXG7Qn9C+0LTRhdC+0LTQuNGC0LUg0Log0YHRjtC20LXRgtCw0Lwg0YEg0LDQvdGC0LjQstC+0LXQvdC90L7QuSDRgNC10LTQsNC60YbQuNC+0L3QvdC+0Lkg0L/QvtC30LjRhtC40LXQuSwg0YHQvtC30LTQsNCy0LDRjyDQlNCg0JDQnNCQ0KLQmNCn0J3Qq9CVINC4INCt0JzQntCm0JjQntCd0JDQm9Cs0J3Qq9CVINC30LDQs9C+0LvQvtCy0LrQuCwg0L/QvtC00YfQtdGA0LrQuNCy0LDRjzpcbi0g0KfQtdC70L7QstC10YfQtdGB0LrQuNC1INC/0L7RgtC10YDQuCDQvtGCINCy0L7QudC90Ytcbi0g0KPRgdC40LvQuNGPINC/0L4g0LzQuNGA0L3Ri9C8INC/0LXRgNC10LPQvtCy0L7RgNCw0Lxcbi0g0JLQvtC30LTQtdC50YHRgtCy0LjQtSDQvdCwINCz0YDQsNC20LTQsNC90YHQutC40YUg0LvQuNGGINC4INCz0YPQvNCw0L3QuNGC0LDRgNC90YvQtSDQv9C+0YLRgNC10LHQvdC+0YHRgtC4XG4tINCQ0L3RgtC40LLQvtC10L3QvdGL0Lkg0LDQutGC0LjQstC40LfQvCDQuCDQtNCy0LjQttC10L3QuNGPXG4tINCU0LjQv9C70L7QvNCw0YLQuNGH0LXRgdC60LjQtSDRgNC10YjQtdC90LjRjyDQstC80LXRgdGC0L4g0LLQvtC10L3QvdGL0YVcblxu0JjQodCf0J7Qm9Cs0JfQo9CZ0KLQlSDQlNCg0JDQnNCQ0KLQmNCn0J3Qq9CVINCX0JDQk9Ce0JvQntCS0JrQmDog0Y3QvNC+0YbQuNC+0L3QsNC70YzQvdGL0LUsINC30LDRhdCy0LDRgtGL0LLQsNGO0YnQuNC1LCDRgSDRgdC40LvRjNC90YvQvNC4INGB0LvQvtCy0LDQvNC4LiDQn9GA0LjQvNC10YDRiyDRgdGC0LjQu9GPOiBcItCh0KDQntCn0J3QnjpcIiwgXCLQqNCe0JrQmNCg0KPQrtCp0JjQlSDQtNCw0L3QvdGL0LU6XCIsIFwi0JrQoNCY0KLQmNCn0JXQodCa0JDQryDRgdC40YLRg9Cw0YbQuNGPOlwiLCBcItCi0KDQldCS0J7QltCd0KvQlSDRgdC40LPQvdCw0LvRizpcIlxuXG7QktC10YDQvdC40YLQtSDQotCe0JvQrNCa0J4g0Y3RgtC+0YIgSlNPTiDRhNC+0YDQvNCw0YI6XG57XG4gIFwiYXJ0aWNsZXNcIjogW1xuICAgIHtcbiAgICAgIFwiaWRcIjogMSxcbiAgICAgIFwidGl0bGVcIjogXCLQodGA0L7Rh9C90L46INCX0LDQs9C+0LvQvtCy0L7QuiDQutGA0YPQv9C90L7Qs9C+INGB0L7QsdGL0YLQuNGPXCIsXG4gICAgICBcInN1bW1hcnlcIjogXCLQmtGA0LDRgtC60L7QtSDRgNC10LfRjtC80LUg0YEg0LDQutGG0LXQvdGC0L7QvCDQvdCwINCz0YPQvNCw0L3QuNGC0LDRgNC90L7QtSDQstC+0LfQtNC10LnRgdGC0LLQuNC1INC40LvQuCDRg9GB0LjQu9C40Y8g0L/QviDQtNC+0YHRgtC40LbQtdC90LjRjiDQvNC40YDQsC5cIixcbiAgICAgIFwiZnVsbENvbnRlbnRcIjogXCLQn9C+0LTRgNC+0LHQvdC+0LUg0YHQvtC00LXRgNC20LDQvdC40LUg0YEg0LDQutGG0LXQvdGC0L7QvCDQvdCwINGH0LXQu9C+0LLQtdGH0LXRgdC60LjQtSDQuNGB0YLQvtGA0LjQuCwg0LzQuNGA0L3Ri9C1INC40L3QuNGG0LjQsNGC0LjQstGLINC40LvQuCDQsNC90YLQuNCy0L7QtdC90L3Ri9C1INC/0LXRgNGB0L/QtdC60YLQuNCy0YsuINCd0LXRgdC60L7Qu9GM0LrQviDQv9GA0LXQtNC70L7QttC10L3QuNC5LCDQvtCx0LXRgdC/0LXRh9C40LLQsNGO0YnQuNGFINCy0YHQtdGB0YLQvtGA0L7QvdC90LXQtSDQvtGB0LLQtdGJ0LXQvdC40LUuXCIsXG4gICAgICBcImltcG9ydGFuY2VcIjogXCJCcmVha2luZ1wiLFxuICAgICAgXCJzb3VyY2VcIjogXCJSZXV0ZXJzXCIsXG4gICAgICBcImNhdGVnb3J5XCI6IFwiVWtyYWluZS1SdXNzaWFcIlxuICAgIH1cbiAgXVxufVxuXG7QmNGB0L/QvtC70YzQt9GD0LnRgtC1INC60LDRgtC10LPQvtGA0LjQuDogXCLQo9C60YDQsNC40L3QsC3QoNC+0YHRgdC40Y9cIiwgXCLQn9C+0LvQuNGC0LjQutCwINCi0YDQsNC80L/QsFwiLCBcItCc0LjRgNC90YvQtSDRg9GB0LjQu9C40Y9cIiwgXCLQk9GD0LzQsNC90LjRgtCw0YDQvdGL0LVcIiwgXCLQlNC40L/Qu9C+0LzQsNGC0LjRj1wiLCBcItCQ0L3RgtC40LLQvtC10L3QvdC+0LUg0LTQstC40LbQtdC90LjQtVwiLiDQmNGB0L/QvtC70YzQt9GD0LnRgtC1INC40YHRgtC+0YfQvdC40LrQuCDRgtC40L/QsCBSZXV0ZXJzLCBBUCBOZXdzLCBCQkMgTmV3cywgQ05OLCBCbG9vbWJlcmcsIE5QUi4g0JLQvtC30LLRgNCw0YnQsNC50YLQtSDRgtC+0LvRjNC60L4g0YfQuNGB0YLRi9C5IEpTT04uYFxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBuZXdzRGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQpO1xuICAgIFxuICAgIC8vIEVuc3VyZSBwcm9wZXIgc3RydWN0dXJlXG4gICAgaWYgKCFuZXdzRGF0YS5hcnRpY2xlcyB8fCAhQXJyYXkuaXNBcnJheShuZXdzRGF0YS5hcnRpY2xlcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBuZXdzIGRhdGEgc3RydWN0dXJlJyk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRpbWVzdGFtcHMgYW5kIGVuc3VyZSBJRHNcbiAgICBjb25zdCBhcnRpY2xlcyA9IG5ld3NEYXRhLmFydGljbGVzLm1hcCgoYXJ0aWNsZSwgaW5kZXgpID0+ICh7XG4gICAgICBpZDogRGF0ZS5ub3coKSArIGluZGV4LFxuICAgICAgcmFuazogaW5kZXggKyAxLFxuICAgICAgdGl0bGU6IGFydGljbGUudGl0bGUsXG4gICAgICBzdW1tYXJ5OiBhcnRpY2xlLnN1bW1hcnksXG4gICAgICBmdWxsQ29udGVudDogYXJ0aWNsZS5mdWxsQ29udGVudCB8fCBhcnRpY2xlLnN1bW1hcnkgKyBcIiBUaGlzIGlzIGEgZGV2ZWxvcGluZyBzdG9yeS5cIixcbiAgICAgIGltcG9ydGFuY2U6IGFydGljbGUuaW1wb3J0YW5jZSB8fCBcIk1vZGVyYXRlXCIsXG4gICAgICBzb3VyY2U6IGFydGljbGUuc291cmNlIHx8IFwiUmV1dGVyc1wiLFxuICAgICAgY2F0ZWdvcnk6IGFydGljbGUuY2F0ZWdvcnkgfHwgXCJXb3JsZFwiLFxuICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pKTtcblxuICAgIGNvbnNvbGUubG9nKGDinIUgR2VuZXJhdGVkICR7YXJ0aWNsZXMubGVuZ3RofSBFbmdsaXNoIG5ld3MgYXJ0aWNsZXNgKTtcbiAgICByZXR1cm4gYXJ0aWNsZXM7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZ2VuZXJhdGluZyBFbmdsaXNoIG5ld3M6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFJldHVybiBmYWxsYmFjayBFbmdsaXNoIG5ld3NcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgcmFuazogMSxcbiAgICAgICAgdGl0bGU6IFwiQnJlYWtpbmc6IE5ld3MgU3lzdGVtIEFjdGl2ZVwiLFxuICAgICAgICBzdW1tYXJ5OiBcIlRoZSBhdXRvbWF0ZWQgRW5nbGlzaCBuZXdzIGdlbmVyYXRpb24gc3lzdGVtIGlzIG5vdyBvcGVyYXRpb25hbCBhbmQgcHJvdmlkaW5nIGZyZXNoIGNvbnRlbnQuXCIsXG4gICAgICAgIGZ1bGxDb250ZW50OiBcIk91ciBuZXcgRW5nbGlzaCBuZXdzIHN5c3RlbSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZGVwbG95ZWQgYW5kIGlzIGdlbmVyYXRpbmcgZnJlc2gsIHByb2Zlc3Npb25hbCBuZXdzIGNvbnRlbnQgaW4gcmVhbC10aW1lLiBUaGUgc3lzdGVtIHVzZXMgYWR2YW5jZWQgQUkgdG8gY3JlYXRlIGJyZWFraW5nIG5ld3Mgc3RvcmllcyBjb3ZlcmluZyBnbG9iYWwgZXZlbnRzLCBwb2xpdGljcywgZWNvbm9taWNzLCB0ZWNobm9sb2d5LCBhbmQgY3VsdHVyZS4gVGhpcyBlbnN1cmVzIHVzZXJzIGFsd2F5cyBoYXZlIGFjY2VzcyB0byBjdXJyZW50LCBlbmdhZ2luZyBuZXdzIGNvbnRlbnQgaW4gRW5nbGlzaC5cIixcbiAgICAgICAgaW1wb3J0YW5jZTogXCJCcmVha2luZ1wiLFxuICAgICAgICBzb3VyY2U6IFwiTmV3cyBTeXN0ZW1cIixcbiAgICAgICAgY2F0ZWdvcnk6IFwiVGVjaG5vbG9neVwiLFxuICAgICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9XG4gICAgXTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vIFNldCBDT1JTIGhlYWRlcnNcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQnKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUnKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMzAgfSA9IHJlcS5xdWVyeTtcbiAgICBsZXQgYWxsQXJ0aWNsZXM7XG4gICAgbGV0IGNhY2hlU3RhdHVzO1xuICAgIFxuICAgIC8vIFN0YXJ0IGJhY2tncm91bmQgZ2VuZXJhdGlvbiBvbiBmaXJzdCByZXF1ZXN0XG4gICAgc3RhcnRCYWNrZ3JvdW5kR2VuZXJhdGlvbigpO1xuICAgIFxuICAgIC8vIEFsd2F5cyB0cnkgdG8gc2VydmUgZnJvbSBjYWNoZSBmaXJzdFxuICAgIGlmIChjYWNoZUV4aXN0cygpKSB7XG4gICAgICBhbGxBcnRpY2xlcyA9IGxvYWRDYWNoZWROZXdzKCk7XG4gICAgICBcbiAgICAgIGlmIChhbGxBcnRpY2xlcyAmJiBhbGxBcnRpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNhY2hlU3RhdHVzID0gJ2luc3RhbnQnO1xuICAgICAgICBjb25zb2xlLmxvZygn4pqhIFNlcnZpbmcgY2FjaGVkIG5ld3MgaW5zdGFudGx5Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDYWNoZSBleGlzdHMgYnV0IGlzIGNvcnJ1cHRlZC9pbnZhbGlkIC0gZ2VuZXJhdGUgZnJlc2hcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2FjaGUgY29ycnVwdGVkLCBnZW5lcmF0aW5nIGZyZXNoIG5ld3MuLi4nKTtcbiAgICAgICAgYWxsQXJ0aWNsZXMgPSBhd2FpdCBnZW5lcmF0ZUVuZ2xpc2hOZXdzKCk7XG4gICAgICAgIHNhdmVUb0NhY2hlKGFsbEFydGljbGVzKTtcbiAgICAgICAgY2FjaGVTdGF0dXMgPSAncmVjb3ZlcmVkJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT25seSBnZW5lcmF0ZSBzeW5jaHJvbm91c2x5IGlmIG5vIGNhY2hlIGV4aXN0cyBhdCBhbGwgKGZpcnN0IHRpbWUpXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBObyBjYWNoZSBmb3VuZCwgZ2VuZXJhdGluZyBpbml0aWFsIG5ld3MuLi4nKTtcbiAgICAgIGFsbEFydGljbGVzID0gYXdhaXQgZ2VuZXJhdGVFbmdsaXNoTmV3cygpO1xuICAgICAgc2F2ZVRvQ2FjaGUoYWxsQXJ0aWNsZXMpO1xuICAgICAgY2FjaGVTdGF0dXMgPSAnaW5pdGlhbCc7XG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSBwYWdpbmF0aW9uXG4gICAgY29uc3QgcGFnZU51bWJlciA9IHBhcnNlSW50KHBhZ2UpO1xuICAgIGNvbnN0IGxpbWl0TnVtYmVyID0gcGFyc2VJbnQobGltaXQpO1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAocGFnZU51bWJlciAtIDEpICogbGltaXROdW1iZXI7XG4gICAgY29uc3QgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgbGltaXROdW1iZXI7XG4gICAgXG4gICAgY29uc3QgcGFnaW5hdGVkQXJ0aWNsZXMgPSBhbGxBcnRpY2xlcy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgYXJ0aWNsZXM6IHBhZ2luYXRlZEFydGljbGVzLFxuICAgICAgdG90YWw6IGFsbEFydGljbGVzLmxlbmd0aCxcbiAgICAgIHBhZ2U6IHBhZ2VOdW1iZXIsXG4gICAgICBoYXNNb3JlOiBlbmRJbmRleCA8IGFsbEFydGljbGVzLmxlbmd0aCxcbiAgICAgIHR5cGU6ICdlbmdsaXNoX3dpdGhfY2FjaGUnLFxuICAgICAgY2FjaGVTdGF0dXM6IGNhY2hlU3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgRW5nbGlzaCBuZXdzJyxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgXG4gICAgfSk7XG4gIH1cbn0iXSwibmFtZXMiOlsiT3BlbkFJIiwiZnMiLCJwYXRoIiwib3BlbmFpIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk9QRU5BSV9BUElfS0VZIiwiQ0FDSEVfRFVSQVRJT04iLCJDQUNIRV9GSUxFIiwiam9pbiIsImN3ZCIsImJhY2tncm91bmRJbnRlcnZhbCIsImlzR2VuZXJhdGluZyIsImNhY2hlRXhpc3RzIiwiZXhpc3RzU3luYyIsImVycm9yIiwiY29uc29sZSIsImNhY2hlTmVlZHNSZWZyZXNoIiwiY2FjaGVEYXRhIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwibm93IiwiRGF0ZSIsImNhY2hlQWdlIiwidGltZXN0YW1wIiwibG9hZENhY2hlZE5ld3MiLCJhcnRpY2xlcyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsIkVycm9yIiwibG9nIiwidW5saW5rU3luYyIsImRlbGV0ZUVycm9yIiwic2F2ZVRvQ2FjaGUiLCJnZW5lcmF0ZWRBdCIsInRvSVNPU3RyaW5nIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsImdlbmVyYXRlTmV3c0luQmFja2dyb3VuZCIsImdlbmVyYXRlRW5nbGlzaE5ld3MiLCJzdGFydEJhY2tncm91bmRHZW5lcmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJyZXNwb25zZSIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1vZGVsIiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInJlc3BvbnNlX2Zvcm1hdCIsInR5cGUiLCJuZXdzRGF0YSIsImNob2ljZXMiLCJtZXNzYWdlIiwibWFwIiwiYXJ0aWNsZSIsImluZGV4IiwiaWQiLCJyYW5rIiwidGl0bGUiLCJzdW1tYXJ5IiwiZnVsbENvbnRlbnQiLCJpbXBvcnRhbmNlIiwic291cmNlIiwiY2F0ZWdvcnkiLCJwdWJsaXNoZWRBdCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJwYWdlIiwibGltaXQiLCJxdWVyeSIsImFsbEFydGljbGVzIiwiY2FjaGVTdGF0dXMiLCJwYWdlTnVtYmVyIiwicGFyc2VJbnQiLCJsaW1pdE51bWJlciIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInBhZ2luYXRlZEFydGljbGVzIiwic2xpY2UiLCJzdGF0dXMiLCJqc29uIiwidG90YWwiLCJoYXNNb3JlIiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/english-news.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();