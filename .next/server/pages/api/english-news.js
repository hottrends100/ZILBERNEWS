"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/english-news";
exports.ids = ["pages/api/english-news"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/english-news.js */ \"(api)/./pages/api/english-news.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/english-news\",\n        pathname: \"/api/english-news\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmVuZ2xpc2gtbmV3cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZW5nbGlzaC1uZXdzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3dEO0FBQ3hEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8/ZGMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2VuZ2xpc2gtbmV3cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/english-news.js":
/*!***********************************!*\
  !*** ./pages/api/english-news.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// NewsAPI configuration\nconst NEWSAPI_KEY = process.env.NEWSAPI_KEY;\nconst NEWSAPI_BASE_URL = \"https://newsapi.org/v2\";\n// Cache configuration\nconst CACHE_DURATION = 15 * 60 * 1000; // 15 minutes in milliseconds\nconst CACHE_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"news-cache.json\");\n// Background generation state\nlet backgroundInterval = null;\nlet isGenerating = false;\n// Check if cache exists (we'll always serve from cache if it exists)\nfunction cacheExists() {\n    try {\n        return fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE);\n    } catch (error) {\n        console.error(\"❌ Error checking cache:\", error);\n        return false;\n    }\n}\n// Check if cache needs refresh (for background generation)\nfunction cacheNeedsRefresh() {\n    try {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n            return true;\n        }\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        const now = Date.now();\n        const cacheAge = now - cacheData.timestamp;\n        return cacheAge >= CACHE_DURATION;\n    } catch (error) {\n        console.error(\"❌ Error reading cache for refresh check:\", error);\n        return true;\n    }\n}\n// Load cached news with self-recovery\nfunction loadCachedNews() {\n    try {\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        // Validate cache structure\n        if (!cacheData.articles || !Array.isArray(cacheData.articles) || cacheData.articles.length === 0) {\n            throw new Error(\"Invalid cache structure or empty articles\");\n        }\n        console.log(`✅ Loaded ${cacheData.articles.length} cached articles`);\n        return cacheData.articles;\n    } catch (error) {\n        console.error(\"❌ Error loading cached news:\", error);\n        // Self-recovery: delete corrupt cache file\n        try {\n            if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n                fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(CACHE_FILE);\n                console.log(\"\\uD83D\\uDDD1️ Deleted corrupt cache file for self-recovery\");\n            }\n        } catch (deleteError) {\n            console.error(\"❌ Failed to delete corrupt cache:\", deleteError);\n        }\n        return null;\n    }\n}\n// Save news to cache\nfunction saveToCache(articles) {\n    try {\n        const cacheData = {\n            articles: articles,\n            timestamp: Date.now(),\n            generatedAt: new Date().toISOString()\n        };\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(CACHE_FILE, JSON.stringify(cacheData, null, 2));\n        console.log(`💾 Saved ${articles.length} articles to cache`);\n    } catch (error) {\n        console.error(\"❌ Error saving to cache:\", error);\n    }\n}\n// Background news generation\nasync function generateNewsInBackground() {\n    if (isGenerating) {\n        console.log(\"\\uD83D\\uDD04 News generation already in progress, skipping...\");\n        return;\n    }\n    if (!cacheNeedsRefresh()) {\n        console.log(\"\\uD83D\\uDCC1 Cache still fresh, skipping background generation\");\n        return;\n    }\n    isGenerating = true;\n    console.log(\"\\uD83D\\uDD04 Background: Generating fresh news...\");\n    try {\n        const articles = await fetchRealNews();\n        saveToCache(articles);\n        console.log(\"✅ Background: News updated successfully\");\n    } catch (error) {\n        console.error(\"❌ Background generation failed:\", error);\n    } finally{\n        isGenerating = false;\n    }\n}\n// Start background news generation\nfunction startBackgroundGeneration() {\n    if (backgroundInterval) {\n        return; // Already running\n    }\n    console.log(\"\\uD83D\\uDE80 Starting background news generation (every 15 minutes)\");\n    // Generate immediately if cache needs refresh\n    if (cacheNeedsRefresh()) {\n        generateNewsInBackground();\n    }\n    // Set interval for ongoing generation\n    backgroundInterval = setInterval(generateNewsInBackground, CACHE_DURATION);\n}\n// Fetch real news using NewsAPI\nasync function fetchRealNews() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Fetching real factual news from verified sources...\");\n        if (!NEWSAPI_KEY) {\n            throw new Error(\"NewsAPI key not found\");\n        }\n        // Focus on Ukraine-Russia conflict and political news from reliable sources\n        const queries = [\n            \"Ukraine Russia conflict\",\n            \"Trump foreign policy\",\n            \"peace negotiations Ukraine\",\n            \"humanitarian crisis Ukraine\",\n            \"diplomatic efforts Russia\"\n        ];\n        const sources = \"reuters,associated-press,bbc-news,the-guardian,al-jazeera-english,cnn,abc-news,npr\";\n        const allArticles = [];\n        // Fetch news for each query to get comprehensive coverage\n        for (const query of queries){\n            const url = `${NEWSAPI_BASE_URL}/everything?q=${encodeURIComponent(query)}&sources=${sources}&language=en&sortBy=publishedAt&pageSize=20&apiKey=${NEWSAPI_KEY}`;\n            const response = await fetch(url);\n            if (!response.ok) {\n                throw new Error(`NewsAPI request failed: ${response.status}`);\n            }\n            const data = await response.json();\n            if (data.articles && data.articles.length > 0) {\n                allArticles.push(...data.articles);\n            }\n        }\n        if (allArticles.length === 0) {\n            throw new Error(\"No articles found from NewsAPI\");\n        }\n        // Remove duplicates and sort by publication date\n        const uniqueArticles = allArticles.filter((article, index, self)=>index === self.findIndex((a)=>a.title === article.title)).sort((a, b)=>new Date(b.publishedAt) - new Date(a.publishedAt));\n        // Transform to our format and take top 30\n        const processedArticles = uniqueArticles.slice(0, 30).map((article, index)=>{\n            const category = categorizeRealNews(article);\n            const importance = getImportanceLevel(article, index);\n            return {\n                id: Date.now() + index,\n                rank: index + 1,\n                title: article.title,\n                summary: article.description || \"No description available\",\n                fullContent: article.content || article.description || \"Full content not available\",\n                importance: importance,\n                source: article.source.name,\n                category: category,\n                publishedAt: article.publishedAt,\n                url: article.url,\n                urlToImage: article.urlToImage\n            };\n        });\n        console.log(`✅ Processed ${processedArticles.length} real news articles from verified sources`);\n        return processedArticles;\n    } catch (error) {\n        console.error(\"❌ Error fetching real news:\", error);\n        return getFallbackNews();\n    }\n}\n// Categorize real news articles\nfunction categorizeRealNews(article) {\n    const title = article.title.toLowerCase();\n    const description = (article.description || \"\").toLowerCase();\n    const content = `${title} ${description}`;\n    // Ukraine-Russia conflict keywords\n    if (content.includes(\"ukraine\") || content.includes(\"russia\") || content.includes(\"putin\") || content.includes(\"kyiv\") || content.includes(\"moscow\") || content.includes(\"war\") || content.includes(\"conflict\") || content.includes(\"sanctions\") || content.includes(\"zelensky\")) {\n        return \"Украина-Россия\";\n    }\n    // Trump politics keywords\n    if (content.includes(\"trump\") || content.includes(\"donald\") || content.includes(\"election\") || content.includes(\"campaign\") || content.includes(\"republican\") || content.includes(\"foreign policy\")) {\n        return \"Политика Трампа\";\n    }\n    // Peace and humanitarian keywords\n    if (content.includes(\"peace\") || content.includes(\"ceasefire\") || content.includes(\"humanitarian\") || content.includes(\"refugee\") || content.includes(\"civilian\") || content.includes(\"aid\") || content.includes(\"diplomatic\") || content.includes(\"negotiations\")) {\n        return \"Мирные усилия\";\n    }\n    // Anti-war movement keywords\n    if (content.includes(\"protest\") || content.includes(\"anti-war\") || content.includes(\"activism\") || content.includes(\"movement\") || content.includes(\"demonstration\") || content.includes(\"peace march\")) {\n        return \"Антивоенное движение\";\n    }\n    // Humanitarian focus\n    if (content.includes(\"humanitarian\") || content.includes(\"victims\") || content.includes(\"casualties\") || content.includes(\"displaced\") || content.includes(\"crisis\") || content.includes(\"suffering\")) {\n        return \"Гуманитарные\";\n    }\n    return \"Главные\";\n}\n// Determine importance level based on source credibility and recency\nfunction getImportanceLevel(article, index) {\n    const reliableSources = [\n        \"reuters\",\n        \"associated press\",\n        \"bbc\",\n        \"guardian\",\n        \"al jazeera\"\n    ];\n    const sourceName = article.source.name.toLowerCase();\n    const isReliableSource = reliableSources.some((source)=>sourceName.includes(source));\n    const isRecent = new Date() - new Date(article.publishedAt) < 6 * 60 * 60 * 1000; // 6 hours\n    if (index < 3 && isReliableSource && isRecent) return \"Breaking\";\n    if (index < 8 && isReliableSource) return \"Critical\";\n    if (index < 15) return \"Urgent\";\n    return \"Developing\";\n}\n// Fallback news data in case of API failure\nfunction getFallbackNews() {\n    return [\n        {\n            id: Date.now(),\n            rank: 1,\n            title: \"СРОЧНО: Проблемы с подключением к новостным источникам\",\n            summary: \"В настоящее время возникли технические трудности с получением свежих новостей из надежных источников.\",\n            fullContent: \"Мы работаем над восстановлением подключения к проверенным новостным агентствам, чтобы предоставить вам самые актуальные и достоверные новости. Пожалуйста, обновите страницу через несколько минут.\",\n            importance: \"Breaking\",\n            source: \"News System\",\n            category: \"Главные\",\n            publishedAt: new Date().toISOString()\n        }\n    ];\n}\nasync function handler(req, res) {\n    // Set CORS headers\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    try {\n        const { page = 1, limit = 30 } = req.query;\n        let allArticles;\n        let cacheStatus;\n        // Start background generation on first request\n        startBackgroundGeneration();\n        // Always try to serve from cache first\n        if (cacheExists()) {\n            allArticles = loadCachedNews();\n            if (allArticles && allArticles.length > 0) {\n                cacheStatus = \"instant\";\n                console.log(\"⚡ Serving cached news instantly\");\n            } else {\n                // Cache exists but is corrupted/invalid - generate fresh\n                console.log(\"\\uD83D\\uDD04 Cache corrupted, fetching fresh real news...\");\n                allArticles = await fetchRealNews();\n                saveToCache(allArticles);\n                cacheStatus = \"recovered\";\n            }\n        } else {\n            // Only generate synchronously if no cache exists at all (first time)\n            console.log(\"\\uD83D\\uDD04 No cache found, fetching initial real news...\");\n            allArticles = await fetchRealNews();\n            saveToCache(allArticles);\n            cacheStatus = \"initial\";\n        }\n        // Handle pagination\n        const pageNumber = parseInt(page);\n        const limitNumber = parseInt(limit);\n        const startIndex = (pageNumber - 1) * limitNumber;\n        const endIndex = startIndex + limitNumber;\n        const paginatedArticles = allArticles.slice(startIndex, endIndex);\n        res.status(200).json({\n            articles: paginatedArticles,\n            total: allArticles.length,\n            page: pageNumber,\n            hasMore: endIndex < allArticles.length,\n            type: \"real_news_with_cache\",\n            cacheStatus: cacheStatus,\n            updatedAt: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Failed to load news\",\n            message: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmtFLE1BQU1HO1lBQ05PLFNBQVNILFdBQVd6RCxZQUFZaEIsTUFBTTtZQUN0QzZFLE1BQU07WUFDTlQsYUFBYUE7WUFDYlUsV0FBVyxJQUFJckYsT0FBT2MsV0FBVztRQUNuQztJQUVGLEVBQUUsT0FBT3RCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1FBQzVCK0UsSUFBSXpDLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFDbkJ4QyxPQUFPO1lBQ1A4RixTQUFTOUYsTUFBTThGLE9BQU87UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8uL3BhZ2VzL2FwaS9lbmdsaXNoLW5ld3MuanM/MDNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG4vLyBOZXdzQVBJIGNvbmZpZ3VyYXRpb25cbmNvbnN0IE5FV1NBUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVXU0FQSV9LRVk7XG5jb25zdCBORVdTQVBJX0JBU0VfVVJMID0gJ2h0dHBzOi8vbmV3c2FwaS5vcmcvdjInO1xuXG4vLyBDYWNoZSBjb25maWd1cmF0aW9uXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDE1ICogNjAgKiAxMDAwOyAvLyAxNSBtaW51dGVzIGluIG1pbGxpc2Vjb25kc1xuY29uc3QgQ0FDSEVfRklMRSA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnbmV3cy1jYWNoZS5qc29uJyk7XG5cbi8vIEJhY2tncm91bmQgZ2VuZXJhdGlvbiBzdGF0ZVxubGV0IGJhY2tncm91bmRJbnRlcnZhbCA9IG51bGw7XG5sZXQgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG5cbi8vIENoZWNrIGlmIGNhY2hlIGV4aXN0cyAod2UnbGwgYWx3YXlzIHNlcnZlIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzKVxuZnVuY3Rpb24gY2FjaGVFeGlzdHMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIGNhY2hlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gQ2hlY2sgaWYgY2FjaGUgbmVlZHMgcmVmcmVzaCAoZm9yIGJhY2tncm91bmQgZ2VuZXJhdGlvbilcbmZ1bmN0aW9uIGNhY2hlTmVlZHNSZWZyZXNoKCkge1xuICB0cnkge1xuICAgIGlmICghZnMuZXhpc3RzU3luYyhDQUNIRV9GSUxFKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVBZ2UgPSBub3cgLSBjYWNoZURhdGEudGltZXN0YW1wO1xuICAgIFxuICAgIHJldHVybiBjYWNoZUFnZSA+PSBDQUNIRV9EVVJBVElPTjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgcmVhZGluZyBjYWNoZSBmb3IgcmVmcmVzaCBjaGVjazonLCBlcnJvcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLy8gTG9hZCBjYWNoZWQgbmV3cyB3aXRoIHNlbGYtcmVjb3ZlcnlcbmZ1bmN0aW9uIGxvYWRDYWNoZWROZXdzKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNhY2hlIHN0cnVjdHVyZVxuICAgIGlmICghY2FjaGVEYXRhLmFydGljbGVzIHx8ICFBcnJheS5pc0FycmF5KGNhY2hlRGF0YS5hcnRpY2xlcykgfHwgY2FjaGVEYXRhLmFydGljbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNhY2hlIHN0cnVjdHVyZSBvciBlbXB0eSBhcnRpY2xlcycpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIExvYWRlZCAke2NhY2hlRGF0YS5hcnRpY2xlcy5sZW5ndGh9IGNhY2hlZCBhcnRpY2xlc2ApO1xuICAgIHJldHVybiBjYWNoZURhdGEuYXJ0aWNsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgY2FjaGVkIG5ld3M6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFNlbGYtcmVjb3Zlcnk6IGRlbGV0ZSBjb3JydXB0IGNhY2hlIGZpbGVcbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSkpIHtcbiAgICAgICAgZnMudW5saW5rU3luYyhDQUNIRV9GSUxFKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gRGVsZXRlZCBjb3JydXB0IGNhY2hlIGZpbGUgZm9yIHNlbGYtcmVjb3ZlcnknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChkZWxldGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBkZWxldGUgY29ycnVwdCBjYWNoZTonLCBkZWxldGVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIFNhdmUgbmV3cyB0byBjYWNoZVxuZnVuY3Rpb24gc2F2ZVRvQ2FjaGUoYXJ0aWNsZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYWNoZURhdGEgPSB7XG4gICAgICBhcnRpY2xlczogYXJ0aWNsZXMsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKENBQ0hFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlRGF0YSwgbnVsbCwgMikpO1xuICAgIGNvbnNvbGUubG9nKGDwn5K+IFNhdmVkICR7YXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlcyB0byBjYWNoZWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgdG8gY2FjaGU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEJhY2tncm91bmQgbmV3cyBnZW5lcmF0aW9uXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU5ld3NJbkJhY2tncm91bmQoKSB7XG4gIGlmIChpc0dlbmVyYXRpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBOZXdzIGdlbmVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcuLi4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWNhY2hlTmVlZHNSZWZyZXNoKCkpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TgSBDYWNoZSBzdGlsbCBmcmVzaCwgc2tpcHBpbmcgYmFja2dyb3VuZCBnZW5lcmF0aW9uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgY29uc29sZS5sb2coJ/CflIQgQmFja2dyb3VuZDogR2VuZXJhdGluZyBmcmVzaCBuZXdzLi4uJyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgZmV0Y2hSZWFsTmV3cygpO1xuICAgIHNhdmVUb0NhY2hlKGFydGljbGVzKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhY2tncm91bmQ6IE5ld3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQmFja2dyb3VuZCBnZW5lcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gU3RhcnQgYmFja2dyb3VuZCBuZXdzIGdlbmVyYXRpb25cbmZ1bmN0aW9uIHN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24oKSB7XG4gIGlmIChiYWNrZ3JvdW5kSW50ZXJ2YWwpIHtcbiAgICByZXR1cm47IC8vIEFscmVhZHkgcnVubmluZ1xuICB9XG4gIFxuICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBiYWNrZ3JvdW5kIG5ld3MgZ2VuZXJhdGlvbiAoZXZlcnkgMTUgbWludXRlcyknKTtcbiAgXG4gIC8vIEdlbmVyYXRlIGltbWVkaWF0ZWx5IGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgaWYgKGNhY2hlTmVlZHNSZWZyZXNoKCkpIHtcbiAgICBnZW5lcmF0ZU5ld3NJbkJhY2tncm91bmQoKTtcbiAgfVxuICBcbiAgLy8gU2V0IGludGVydmFsIGZvciBvbmdvaW5nIGdlbmVyYXRpb25cbiAgYmFja2dyb3VuZEludGVydmFsID0gc2V0SW50ZXJ2YWwoZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kLCBDQUNIRV9EVVJBVElPTik7XG59XG5cbi8vIEZldGNoIHJlYWwgbmV3cyB1c2luZyBOZXdzQVBJXG5hc3luYyBmdW5jdGlvbiBmZXRjaFJlYWxOZXdzKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIEZldGNoaW5nIHJlYWwgZmFjdHVhbCBuZXdzIGZyb20gdmVyaWZpZWQgc291cmNlcy4uLicpO1xuICAgIFxuICAgIGlmICghTkVXU0FQSV9LRVkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTmV3c0FQSSBrZXkgbm90IGZvdW5kJyk7XG4gICAgfVxuXG4gICAgLy8gRm9jdXMgb24gVWtyYWluZS1SdXNzaWEgY29uZmxpY3QgYW5kIHBvbGl0aWNhbCBuZXdzIGZyb20gcmVsaWFibGUgc291cmNlc1xuICAgIGNvbnN0IHF1ZXJpZXMgPSBbXG4gICAgICAnVWtyYWluZSBSdXNzaWEgY29uZmxpY3QnLFxuICAgICAgJ1RydW1wIGZvcmVpZ24gcG9saWN5JyxcbiAgICAgICdwZWFjZSBuZWdvdGlhdGlvbnMgVWtyYWluZScsXG4gICAgICAnaHVtYW5pdGFyaWFuIGNyaXNpcyBVa3JhaW5lJyxcbiAgICAgICdkaXBsb21hdGljIGVmZm9ydHMgUnVzc2lhJ1xuICAgIF07XG5cbiAgICBjb25zdCBzb3VyY2VzID0gJ3JldXRlcnMsYXNzb2NpYXRlZC1wcmVzcyxiYmMtbmV3cyx0aGUtZ3VhcmRpYW4sYWwtamF6ZWVyYS1lbmdsaXNoLGNubixhYmMtbmV3cyxucHInO1xuICAgIGNvbnN0IGFsbEFydGljbGVzID0gW107XG5cbiAgICAvLyBGZXRjaCBuZXdzIGZvciBlYWNoIHF1ZXJ5IHRvIGdldCBjb21wcmVoZW5zaXZlIGNvdmVyYWdlXG4gICAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XG4gICAgICBjb25zdCB1cmwgPSBgJHtORVdTQVBJX0JBU0VfVVJMfS9ldmVyeXRoaW5nP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZzb3VyY2VzPSR7c291cmNlc30mbGFuZ3VhZ2U9ZW4mc29ydEJ5PXB1Ymxpc2hlZEF0JnBhZ2VTaXplPTIwJmFwaUtleT0ke05FV1NBUElfS0VZfWA7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOZXdzQVBJIHJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLmFydGljbGVzICYmIGRhdGEuYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhbGxBcnRpY2xlcy5wdXNoKC4uLmRhdGEuYXJ0aWNsZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbGxBcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYXJ0aWNsZXMgZm91bmQgZnJvbSBOZXdzQVBJJyk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYW5kIHNvcnQgYnkgcHVibGljYXRpb24gZGF0ZVxuICAgIGNvbnN0IHVuaXF1ZUFydGljbGVzID0gYWxsQXJ0aWNsZXMuZmlsdGVyKChhcnRpY2xlLCBpbmRleCwgc2VsZikgPT4gXG4gICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoYSA9PiBhLnRpdGxlID09PSBhcnRpY2xlLnRpdGxlKVxuICAgICkuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5wdWJsaXNoZWRBdCkgLSBuZXcgRGF0ZShhLnB1Ymxpc2hlZEF0KSk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gdG8gb3VyIGZvcm1hdCBhbmQgdGFrZSB0b3AgMzBcbiAgICBjb25zdCBwcm9jZXNzZWRBcnRpY2xlcyA9IHVuaXF1ZUFydGljbGVzLnNsaWNlKDAsIDMwKS5tYXAoKGFydGljbGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpemVSZWFsTmV3cyhhcnRpY2xlKTtcbiAgICAgIGNvbnN0IGltcG9ydGFuY2UgPSBnZXRJbXBvcnRhbmNlTGV2ZWwoYXJ0aWNsZSwgaW5kZXgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSArIGluZGV4LFxuICAgICAgICByYW5rOiBpbmRleCArIDEsXG4gICAgICAgIHRpdGxlOiBhcnRpY2xlLnRpdGxlLFxuICAgICAgICBzdW1tYXJ5OiBhcnRpY2xlLmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbiBhdmFpbGFibGUnLFxuICAgICAgICBmdWxsQ29udGVudDogYXJ0aWNsZS5jb250ZW50IHx8IGFydGljbGUuZGVzY3JpcHRpb24gfHwgJ0Z1bGwgY29udGVudCBub3QgYXZhaWxhYmxlJyxcbiAgICAgICAgaW1wb3J0YW5jZTogaW1wb3J0YW5jZSxcbiAgICAgICAgc291cmNlOiBhcnRpY2xlLnNvdXJjZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIHB1Ymxpc2hlZEF0OiBhcnRpY2xlLnB1Ymxpc2hlZEF0LFxuICAgICAgICB1cmw6IGFydGljbGUudXJsLFxuICAgICAgICB1cmxUb0ltYWdlOiBhcnRpY2xlLnVybFRvSW1hZ2VcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIFByb2Nlc3NlZCAke3Byb2Nlc3NlZEFydGljbGVzLmxlbmd0aH0gcmVhbCBuZXdzIGFydGljbGVzIGZyb20gdmVyaWZpZWQgc291cmNlc2ApO1xuICAgIHJldHVybiBwcm9jZXNzZWRBcnRpY2xlcztcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyByZWFsIG5ld3M6JywgZXJyb3IpO1xuICAgIHJldHVybiBnZXRGYWxsYmFja05ld3MoKTtcbiAgfVxufVxuXG4vLyBDYXRlZ29yaXplIHJlYWwgbmV3cyBhcnRpY2xlc1xuZnVuY3Rpb24gY2F0ZWdvcml6ZVJlYWxOZXdzKGFydGljbGUpIHtcbiAgY29uc3QgdGl0bGUgPSBhcnRpY2xlLnRpdGxlLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gKGFydGljbGUuZGVzY3JpcHRpb24gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGNvbnRlbnQgPSBgJHt0aXRsZX0gJHtkZXNjcmlwdGlvbn1gO1xuXG4gIC8vIFVrcmFpbmUtUnVzc2lhIGNvbmZsaWN0IGtleXdvcmRzXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCd1a3JhaW5lJykgfHwgY29udGVudC5pbmNsdWRlcygncnVzc2lhJykgfHwgY29udGVudC5pbmNsdWRlcygncHV0aW4nKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2t5aXYnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdtb3Njb3cnKSB8fCBjb250ZW50LmluY2x1ZGVzKCd3YXInKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2NvbmZsaWN0JykgfHwgY29udGVudC5pbmNsdWRlcygnc2FuY3Rpb25zJykgfHwgY29udGVudC5pbmNsdWRlcygnemVsZW5za3knKSkge1xuICAgIHJldHVybiBcItCj0LrRgNCw0LjQvdCwLdCg0L7RgdGB0LjRj1wiO1xuICB9XG4gIFxuICAvLyBUcnVtcCBwb2xpdGljcyBrZXl3b3Jkc1xuICBpZiAoY29udGVudC5pbmNsdWRlcygndHJ1bXAnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdkb25hbGQnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdlbGVjdGlvbicpIHx8IFxuICAgICAgY29udGVudC5pbmNsdWRlcygnY2FtcGFpZ24nKSB8fCBjb250ZW50LmluY2x1ZGVzKCdyZXB1YmxpY2FuJykgfHwgY29udGVudC5pbmNsdWRlcygnZm9yZWlnbiBwb2xpY3knKSkge1xuICAgIHJldHVybiBcItCf0L7Qu9C40YLQuNC60LAg0KLRgNCw0LzQv9CwXCI7XG4gIH1cbiAgXG4gIC8vIFBlYWNlIGFuZCBodW1hbml0YXJpYW4ga2V5d29yZHNcbiAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ3BlYWNlJykgfHwgY29udGVudC5pbmNsdWRlcygnY2Vhc2VmaXJlJykgfHwgY29udGVudC5pbmNsdWRlcygnaHVtYW5pdGFyaWFuJykgfHwgXG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdyZWZ1Z2VlJykgfHwgY29udGVudC5pbmNsdWRlcygnY2l2aWxpYW4nKSB8fCBjb250ZW50LmluY2x1ZGVzKCdhaWQnKSB8fFxuICAgICAgY29udGVudC5pbmNsdWRlcygnZGlwbG9tYXRpYycpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ25lZ290aWF0aW9ucycpKSB7XG4gICAgcmV0dXJuIFwi0JzQuNGA0L3Ri9C1INGD0YHQuNC70LjRj1wiO1xuICB9XG4gIFxuICAvLyBBbnRpLXdhciBtb3ZlbWVudCBrZXl3b3Jkc1xuICBpZiAoY29udGVudC5pbmNsdWRlcygncHJvdGVzdCcpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2FudGktd2FyJykgfHwgY29udGVudC5pbmNsdWRlcygnYWN0aXZpc20nKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ21vdmVtZW50JykgfHwgY29udGVudC5pbmNsdWRlcygnZGVtb25zdHJhdGlvbicpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3BlYWNlIG1hcmNoJykpIHtcbiAgICByZXR1cm4gXCLQkNC90YLQuNCy0L7QtdC90L3QvtC1INC00LLQuNC20LXQvdC40LVcIjtcbiAgfVxuICBcbiAgLy8gSHVtYW5pdGFyaWFuIGZvY3VzXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCdodW1hbml0YXJpYW4nKSB8fCBjb250ZW50LmluY2x1ZGVzKCd2aWN0aW1zJykgfHwgY29udGVudC5pbmNsdWRlcygnY2FzdWFsdGllcycpIHx8XG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdkaXNwbGFjZWQnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdjcmlzaXMnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdzdWZmZXJpbmcnKSkge1xuICAgIHJldHVybiBcItCT0YPQvNCw0L3QuNGC0LDRgNC90YvQtVwiO1xuICB9XG4gIFxuICByZXR1cm4gXCLQk9C70LDQstC90YvQtVwiO1xufVxuXG4vLyBEZXRlcm1pbmUgaW1wb3J0YW5jZSBsZXZlbCBiYXNlZCBvbiBzb3VyY2UgY3JlZGliaWxpdHkgYW5kIHJlY2VuY3lcbmZ1bmN0aW9uIGdldEltcG9ydGFuY2VMZXZlbChhcnRpY2xlLCBpbmRleCkge1xuICBjb25zdCByZWxpYWJsZVNvdXJjZXMgPSBbJ3JldXRlcnMnLCAnYXNzb2NpYXRlZCBwcmVzcycsICdiYmMnLCAnZ3VhcmRpYW4nLCAnYWwgamF6ZWVyYSddO1xuICBjb25zdCBzb3VyY2VOYW1lID0gYXJ0aWNsZS5zb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBpc1JlbGlhYmxlU291cmNlID0gcmVsaWFibGVTb3VyY2VzLnNvbWUoc291cmNlID0+IHNvdXJjZU5hbWUuaW5jbHVkZXMoc291cmNlKSk7XG4gIGNvbnN0IGlzUmVjZW50ID0gbmV3IERhdGUoKSAtIG5ldyBEYXRlKGFydGljbGUucHVibGlzaGVkQXQpIDwgNiAqIDYwICogNjAgKiAxMDAwOyAvLyA2IGhvdXJzXG4gIFxuICBpZiAoaW5kZXggPCAzICYmIGlzUmVsaWFibGVTb3VyY2UgJiYgaXNSZWNlbnQpIHJldHVybiAnQnJlYWtpbmcnO1xuICBpZiAoaW5kZXggPCA4ICYmIGlzUmVsaWFibGVTb3VyY2UpIHJldHVybiAnQ3JpdGljYWwnO1xuICBpZiAoaW5kZXggPCAxNSkgcmV0dXJuICdVcmdlbnQnO1xuICByZXR1cm4gJ0RldmVsb3BpbmcnO1xufVxuXG4vLyBGYWxsYmFjayBuZXdzIGRhdGEgaW4gY2FzZSBvZiBBUEkgZmFpbHVyZVxuZnVuY3Rpb24gZ2V0RmFsbGJhY2tOZXdzKCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgcmFuazogMSxcbiAgICAgIHRpdGxlOiBcItCh0KDQntCn0J3Qnjog0J/RgNC+0LHQu9C10LzRiyDRgSDQv9C+0LTQutC70Y7Rh9C10L3QuNC10Lwg0Log0L3QvtCy0L7RgdGC0L3Ri9C8INC40YHRgtC+0YfQvdC40LrQsNC8XCIsXG4gICAgICBzdW1tYXJ5OiBcItCSINC90LDRgdGC0L7Rj9GJ0LXQtSDQstGA0LXQvNGPINCy0L7Qt9C90LjQutC70Lgg0YLQtdGF0L3QuNGH0LXRgdC60LjQtSDRgtGA0YPQtNC90L7RgdGC0Lgg0YEg0L/QvtC70YPRh9C10L3QuNC10Lwg0YHQstC10LbQuNGFINC90L7QstC+0YHRgtC10Lkg0LjQtyDQvdCw0LTQtdC20L3Ri9GFINC40YHRgtC+0YfQvdC40LrQvtCyLlwiLFxuICAgICAgZnVsbENvbnRlbnQ6IFwi0JzRiyDRgNCw0LHQvtGC0LDQtdC8INC90LDQtCDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNC10Lwg0L/QvtC00LrQu9GO0YfQtdC90LjRjyDQuiDQv9GA0L7QstC10YDQtdC90L3Ri9C8INC90L7QstC+0YHRgtC90YvQvCDQsNCz0LXQvdGC0YHRgtCy0LDQvCwg0YfRgtC+0LHRiyDQv9GA0LXQtNC+0YHRgtCw0LLQuNGC0Ywg0LLQsNC8INGB0LDQvNGL0LUg0LDQutGC0YPQsNC70YzQvdGL0LUg0Lgg0LTQvtGB0YLQvtCy0LXRgNC90YvQtSDQvdC+0LLQvtGB0YLQuC4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC+0LHQvdC+0LLQuNGC0LUg0YHRgtGA0LDQvdC40YbRgyDRh9C10YDQtdC3INC90LXRgdC60L7Qu9GM0LrQviDQvNC40L3Rg9GCLlwiLFxuICAgICAgaW1wb3J0YW5jZTogXCJCcmVha2luZ1wiLFxuICAgICAgc291cmNlOiBcIk5ld3MgU3lzdGVtXCIsXG4gICAgICBjYXRlZ29yeTogXCLQk9C70LDQstC90YvQtVwiLFxuICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cbiAgXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBTZXQgQ09SUyBoZWFkZXJzXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VUJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlJyk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHBhZ2UgPSAxLCBsaW1pdCA9IDMwIH0gPSByZXEucXVlcnk7XG4gICAgbGV0IGFsbEFydGljbGVzO1xuICAgIGxldCBjYWNoZVN0YXR1cztcbiAgICBcbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIGdlbmVyYXRpb24gb24gZmlyc3QgcmVxdWVzdFxuICAgIHN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24oKTtcbiAgICBcbiAgICAvLyBBbHdheXMgdHJ5IHRvIHNlcnZlIGZyb20gY2FjaGUgZmlyc3RcbiAgICBpZiAoY2FjaGVFeGlzdHMoKSkge1xuICAgICAgYWxsQXJ0aWNsZXMgPSBsb2FkQ2FjaGVkTmV3cygpO1xuICAgICAgXG4gICAgICBpZiAoYWxsQXJ0aWNsZXMgJiYgYWxsQXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVN0YXR1cyA9ICdpbnN0YW50JztcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoSBTZXJ2aW5nIGNhY2hlZCBuZXdzIGluc3RhbnRseScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FjaGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0ZWQvaW52YWxpZCAtIGdlbmVyYXRlIGZyZXNoXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIENhY2hlIGNvcnJ1cHRlZCwgZmV0Y2hpbmcgZnJlc2ggcmVhbCBuZXdzLi4uJyk7XG4gICAgICAgIGFsbEFydGljbGVzID0gYXdhaXQgZmV0Y2hSZWFsTmV3cygpO1xuICAgICAgICBzYXZlVG9DYWNoZShhbGxBcnRpY2xlcyk7XG4gICAgICAgIGNhY2hlU3RhdHVzID0gJ3JlY292ZXJlZCc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9ubHkgZ2VuZXJhdGUgc3luY2hyb25vdXNseSBpZiBubyBjYWNoZSBleGlzdHMgYXQgYWxsIChmaXJzdCB0aW1lKVxuICAgICAgY29uc29sZS5sb2coJ/CflIQgTm8gY2FjaGUgZm91bmQsIGZldGNoaW5nIGluaXRpYWwgcmVhbCBuZXdzLi4uJyk7XG4gICAgICBhbGxBcnRpY2xlcyA9IGF3YWl0IGZldGNoUmVhbE5ld3MoKTtcbiAgICAgIHNhdmVUb0NhY2hlKGFsbEFydGljbGVzKTtcbiAgICAgIGNhY2hlU3RhdHVzID0gJ2luaXRpYWwnO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgcGFnaW5hdGlvblxuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBwYXJzZUludChwYWdlKTtcbiAgICBjb25zdCBsaW1pdE51bWJlciA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gKHBhZ2VOdW1iZXIgLSAxKSAqIGxpbWl0TnVtYmVyO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGxpbWl0TnVtYmVyO1xuICAgIFxuICAgIGNvbnN0IHBhZ2luYXRlZEFydGljbGVzID0gYWxsQXJ0aWNsZXMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIFxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIGFydGljbGVzOiBwYWdpbmF0ZWRBcnRpY2xlcyxcbiAgICAgIHRvdGFsOiBhbGxBcnRpY2xlcy5sZW5ndGgsXG4gICAgICBwYWdlOiBwYWdlTnVtYmVyLFxuICAgICAgaGFzTW9yZTogZW5kSW5kZXggPCBhbGxBcnRpY2xlcy5sZW5ndGgsXG4gICAgICB0eXBlOiAncmVhbF9uZXdzX3dpdGhfY2FjaGUnLFxuICAgICAgY2FjaGVTdGF0dXM6IGNhY2hlU3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgbmV3cycsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIFxuICAgIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbImZzIiwicGF0aCIsIk5FV1NBUElfS0VZIiwicHJvY2VzcyIsImVudiIsIk5FV1NBUElfQkFTRV9VUkwiLCJDQUNIRV9EVVJBVElPTiIsIkNBQ0hFX0ZJTEUiLCJqb2luIiwiY3dkIiwiYmFja2dyb3VuZEludGVydmFsIiwiaXNHZW5lcmF0aW5nIiwiY2FjaGVFeGlzdHMiLCJleGlzdHNTeW5jIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FjaGVOZWVkc1JlZnJlc2giLCJjYWNoZURhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJub3ciLCJEYXRlIiwiY2FjaGVBZ2UiLCJ0aW1lc3RhbXAiLCJsb2FkQ2FjaGVkTmV3cyIsImFydGljbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJsb2ciLCJ1bmxpbmtTeW5jIiwiZGVsZXRlRXJyb3IiLCJzYXZlVG9DYWNoZSIsImdlbmVyYXRlZEF0IiwidG9JU09TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kIiwiZmV0Y2hSZWFsTmV3cyIsInN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24iLCJzZXRJbnRlcnZhbCIsInF1ZXJpZXMiLCJzb3VyY2VzIiwiYWxsQXJ0aWNsZXMiLCJxdWVyeSIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1cyIsImRhdGEiLCJqc29uIiwicHVzaCIsInVuaXF1ZUFydGljbGVzIiwiZmlsdGVyIiwiYXJ0aWNsZSIsImluZGV4Iiwic2VsZiIsImZpbmRJbmRleCIsImEiLCJ0aXRsZSIsInNvcnQiLCJiIiwicHVibGlzaGVkQXQiLCJwcm9jZXNzZWRBcnRpY2xlcyIsInNsaWNlIiwibWFwIiwiY2F0ZWdvcnkiLCJjYXRlZ29yaXplUmVhbE5ld3MiLCJpbXBvcnRhbmNlIiwiZ2V0SW1wb3J0YW5jZUxldmVsIiwiaWQiLCJyYW5rIiwic3VtbWFyeSIsImRlc2NyaXB0aW9uIiwiZnVsbENvbnRlbnQiLCJjb250ZW50Iiwic291cmNlIiwibmFtZSIsInVybFRvSW1hZ2UiLCJnZXRGYWxsYmFja05ld3MiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicmVsaWFibGVTb3VyY2VzIiwic291cmNlTmFtZSIsImlzUmVsaWFibGVTb3VyY2UiLCJzb21lIiwiaXNSZWNlbnQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwicGFnZSIsImxpbWl0IiwiY2FjaGVTdGF0dXMiLCJwYWdlTnVtYmVyIiwicGFyc2VJbnQiLCJsaW1pdE51bWJlciIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInBhZ2luYXRlZEFydGljbGVzIiwidG90YWwiLCJoYXNNb3JlIiwidHlwZSIsInVwZGF0ZWRBdCIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/english-news.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();