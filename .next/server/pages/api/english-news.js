"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/english-news";
exports.ids = ["pages/api/english-news"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "openai":
/*!*************************!*\
  !*** external "openai" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("openai");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/english-news.js */ \"(api)/./pages/api/english-news.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/english-news\",\n        pathname: \"/api/english-news\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmVuZ2xpc2gtbmV3cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZW5nbGlzaC1uZXdzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3dEO0FBQ3hEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8/ZGMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2VuZ2xpc2gtbmV3cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/english-news.js":
/*!***********************************!*\
  !*** ./pages/api/english-news.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! openai */ \"openai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([openai__WEBPACK_IMPORTED_MODULE_2__]);\nopenai__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// API configurations\nconst NEWSAPI_KEY = process.env.NEWSAPI_KEY;\nconst NEWSAPI_BASE_URL = \"https://newsapi.org/v2\";\nconst GNEWS_API_KEY = process.env.GNEWS_API_KEY;\nconst GNEWS_BASE_URL = \"https://gnews.io/api/v4\";\nconst openai = new openai__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n    apiKey: process.env.OPENAI_API_KEY\n});\n// Cache configuration\nconst FETCH_INTERVAL = 25 * 60 * 1000; // 25 minutes - fetch news interval\nconst CACHE_DURATION = 30 * 60 * 1000; // 30 minutes - publish/serve interval  \nconst CACHE_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"news-cache.json\");\n// Background generation state\nlet backgroundInterval = null;\nlet isGenerating = false;\n// Check if cache exists (we'll always serve from cache if it exists)\nfunction cacheExists() {\n    try {\n        return fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE);\n    } catch (error) {\n        console.error(\"❌ Error checking cache:\", error);\n        return false;\n    }\n}\n// Check if cache needs refresh (for background generation - every 25 minutes)\nfunction cacheNeedsRefresh() {\n    try {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n            return true;\n        }\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        const now = Date.now();\n        const cacheAge = now - cacheData.timestamp;\n        return cacheAge >= FETCH_INTERVAL; // Check against 25-minute fetch interval\n    } catch (error) {\n        console.error(\"❌ Error reading cache for refresh check:\", error);\n        return true;\n    }\n}\n// Check if cache is fresh enough to serve to users (30 minutes)\nfunction isCacheFreshForServing() {\n    try {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n            return false;\n        }\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        const now = Date.now();\n        const cacheAge = now - cacheData.timestamp;\n        return cacheAge < CACHE_DURATION; // Serve if less than 30 minutes old\n    } catch (error) {\n        console.error(\"❌ Error checking cache freshness:\", error);\n        return false;\n    }\n}\n// Load cached news with self-recovery\nfunction loadCachedNews() {\n    try {\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        // Validate cache structure\n        if (!cacheData.articles || !Array.isArray(cacheData.articles) || cacheData.articles.length === 0) {\n            throw new Error(\"Invalid cache structure or empty articles\");\n        }\n        console.log(`✅ Loaded ${cacheData.articles.length} cached articles`);\n        return cacheData.articles;\n    } catch (error) {\n        console.error(\"❌ Error loading cached news:\", error);\n        // Self-recovery: delete corrupt cache file\n        try {\n            if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n                fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(CACHE_FILE);\n                console.log(\"\\uD83D\\uDDD1️ Deleted corrupt cache file for self-recovery\");\n            }\n        } catch (deleteError) {\n            console.error(\"❌ Failed to delete corrupt cache:\", deleteError);\n        }\n        return null;\n    }\n}\n// Save news to cache\nfunction saveToCache(articles) {\n    try {\n        const cacheData = {\n            articles: articles,\n            timestamp: Date.now(),\n            generatedAt: new Date().toISOString()\n        };\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(CACHE_FILE, JSON.stringify(cacheData, null, 2));\n        console.log(`💾 Saved ${articles.length} articles to cache`);\n    } catch (error) {\n        console.error(\"❌ Error saving to cache:\", error);\n    }\n}\n// Background news generation\nasync function generateNewsInBackground() {\n    if (isGenerating) {\n        console.log(\"\\uD83D\\uDD04 News generation already in progress, skipping...\");\n        return;\n    }\n    if (!cacheNeedsRefresh()) {\n        console.log(\"\\uD83D\\uDCC1 Cache still fresh, skipping background generation\");\n        return;\n    }\n    isGenerating = true;\n    console.log(\"\\uD83D\\uDD04 Background: Generating fresh news...\");\n    try {\n        const articles = await fetchRealNews();\n        saveToCache(articles);\n        console.log(\"✅ Background: News updated successfully\");\n    } catch (error) {\n        console.error(\"❌ Background generation failed:\", error);\n    } finally{\n        isGenerating = false;\n    }\n}\n// Start background news generation\nfunction startBackgroundGeneration() {\n    if (backgroundInterval) {\n        return; // Already running\n    }\n    console.log(\"\\uD83D\\uDE80 Starting background news generation (fetch every 25min, publish every 30min)\");\n    // Generate immediately if cache needs refresh\n    if (cacheNeedsRefresh()) {\n        generateNewsInBackground();\n    }\n    // Set interval for ongoing generation - fetch every 25 minutes, publish every 30 minutes\n    backgroundInterval = setInterval(generateNewsInBackground, FETCH_INTERVAL);\n}\n// Fetch real news using GNews API\nasync function fetchGNewsArticles() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Fetching news from GNews API...\");\n        if (!GNEWS_API_KEY) {\n            throw new Error(\"GNews API key not found\");\n        }\n        // Search queries focused on Ukraine-Russia conflict and political news\n        const queries = [\n            \"Ukraine Russia conflict\",\n            \"Trump foreign policy\",\n            \"peace negotiations Ukraine\",\n            \"humanitarian crisis Ukraine\",\n            \"NATO Ukraine military aid\",\n            \"Zelensky Putin\"\n        ];\n        const allArticles = [];\n        // Fetch news for each query\n        for(let i = 0; i < queries.length; i++){\n            const query = queries[i];\n            const url = `${GNEWS_BASE_URL}/search?q=${encodeURIComponent(query)}&lang=en&country=us&max=10&sortby=publishedAt&apikey=${GNEWS_API_KEY}`;\n            try {\n                const response = await fetch(url);\n                if (!response.ok) {\n                    console.warn(`GNews query ${i + 1} failed with status ${response.status}`);\n                    continue;\n                }\n                const data = await response.json();\n                if (data.articles && data.articles.length > 0) {\n                    // Filter valid articles\n                    const validArticles = data.articles.filter((article)=>article.title && article.description && article.title !== \"[Removed]\" && article.description !== \"[Removed]\");\n                    allArticles.push(...validArticles);\n                }\n                // Rate limiting delay\n                if (i < queries.length - 1) {\n                    await new Promise((resolve)=>setTimeout(resolve, 200));\n                }\n            } catch (fetchError) {\n                console.warn(`GNews query ${i + 1} failed:`, fetchError.message);\n                continue;\n            }\n        }\n        console.log(`📰 GNews: Found ${allArticles.length} total articles`);\n        return allArticles;\n    } catch (error) {\n        console.error(\"❌ GNews fetch error:\", error);\n        return [];\n    }\n}\n// Fetch real news using NewsAPI (fallback)\nasync function fetchNewsAPIArticles() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Fetching news from NewsAPI...\");\n        if (!NEWSAPI_KEY) {\n            console.warn(\"⚠️ NewsAPI key not found, skipping NewsAPI\");\n            return [];\n        }\n        // Focus on Ukraine-Russia conflict and political news from reliable sources\n        // Enhanced query targeting for more interesting and relevant content\n        const queries = [\n            \"Ukraine Russia conflict latest developments\",\n            \"Trump foreign policy Ukraine Russia\",\n            \"peace negotiations Ukraine ceasefire\",\n            \"humanitarian crisis Ukraine refugees\",\n            \"diplomatic efforts Russia sanctions\",\n            \"NATO Ukraine military aid\",\n            \"Zelensky Putin negotiations\"\n        ];\n        // Verified fact-based sources with high credibility ratings\n        const sources = \"reuters,associated-press,bbc-news,al-jazeera-english,cnn,abc-news,npr,bloomberg\";\n        const allArticles = [];\n        // Fetch news for each query to get comprehensive coverage\n        // Enhanced error handling and rate limiting consideration\n        for(let i = 0; i < queries.length; i++){\n            const query = queries[i];\n            const url = `${NEWSAPI_BASE_URL}/everything?q=${encodeURIComponent(query)}&sources=${sources}&language=en&sortBy=publishedAt&pageSize=15&apiKey=${NEWSAPI_KEY}`;\n            try {\n                const response = await fetch(url);\n                if (!response.ok) {\n                    console.warn(`NewsAPI query ${i + 1} failed with status ${response.status}`);\n                    continue; // Continue with other queries if one fails\n                }\n                const data = await response.json();\n                if (data.articles && data.articles.length > 0) {\n                    // Filter out articles without meaningful content\n                    const validArticles = data.articles.filter((article)=>article.title && article.description && article.title !== \"[Removed]\" && article.description !== \"[Removed]\");\n                    allArticles.push(...validArticles);\n                }\n                // Small delay to respect rate limits\n                if (i < queries.length - 1) {\n                    await new Promise((resolve)=>setTimeout(resolve, 100));\n                }\n            } catch (fetchError) {\n                console.warn(`NewsAPI query ${i + 1} failed:`, fetchError.message);\n                continue;\n            }\n        }\n        console.log(`📰 NewsAPI: Found ${allArticles.length} total articles`);\n        return allArticles;\n    } catch (error) {\n        console.error(\"❌ NewsAPI fetch error:\", error);\n        return [];\n    }\n}\n// Combined news fetching function\nasync function fetchRealNews() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Fetching real factual news from multiple sources...\");\n        // Fetch from both APIs in parallel for better performance\n        const [gNewsArticles, newsAPIArticles] = await Promise.all([\n            fetchGNewsArticles(),\n            fetchNewsAPIArticles()\n        ]);\n        // Combine articles from both sources\n        const allArticles = [\n            ...gNewsArticles,\n            ...newsAPIArticles\n        ];\n        if (allArticles.length === 0) {\n            throw new Error(\"No articles found from any news sources\");\n        }\n        // Normalize article format for consistent processing\n        const normalizedArticles = allArticles.map((article)=>{\n            // Handle different API response formats\n            if (article.source && typeof article.source === \"object\") {\n                // NewsAPI format\n                return {\n                    title: article.title,\n                    description: article.description,\n                    content: article.content,\n                    url: article.url,\n                    urlToImage: article.urlToImage || article.image,\n                    publishedAt: article.publishedAt,\n                    source: {\n                        name: article.source.name\n                    }\n                };\n            } else {\n                // GNews format\n                return {\n                    title: article.title,\n                    description: article.description,\n                    content: article.content || article.description,\n                    url: article.url,\n                    urlToImage: article.image,\n                    publishedAt: article.publishedAt,\n                    source: {\n                        name: article.source?.name || article.source?.url || \"Unknown\"\n                    }\n                };\n            }\n        });\n        // Remove duplicates and sort by publication date\n        const uniqueArticles = normalizedArticles.filter((article, index, self)=>index === self.findIndex((a)=>a.title === article.title)).sort((a, b)=>new Date(b.publishedAt) - new Date(a.publishedAt));\n        // Transform to our format and take top 30\n        const processedArticles = uniqueArticles.slice(0, 30).map((article, index)=>{\n            const category = categorizeRealNews(article);\n            const importance = getImportanceLevel(article, index);\n            return {\n                id: Date.now() + index,\n                rank: index + 1,\n                title: article.title,\n                summary: article.description || \"No description available\",\n                fullContent: article.content || article.description || \"Full content not available\",\n                importance: importance,\n                source: article.source.name,\n                category: category,\n                publishedAt: article.publishedAt,\n                url: article.url,\n                urlToImage: article.urlToImage\n            };\n        });\n        console.log(`📊 Combined ${gNewsArticles.length} GNews + ${newsAPIArticles.length} NewsAPI = ${processedArticles.length} final articles`);\n        // Translate all articles to Russian\n        console.log(\"\\uD83D\\uDD04 Translating articles to Russian...\");\n        const translatedArticles = await translateArticlesToRussian(processedArticles);\n        console.log(`✅ Processed and translated ${translatedArticles.length} real news articles from verified sources`);\n        return translatedArticles;\n    } catch (error) {\n        console.error(\"❌ Error fetching real news:\", error);\n        return getFallbackNews();\n    }\n}\n// Categorize real news articles\nfunction categorizeRealNews(article) {\n    const title = article.title.toLowerCase();\n    const description = (article.description || \"\").toLowerCase();\n    const content = `${title} ${description}`;\n    // Ukraine-Russia conflict keywords\n    if (content.includes(\"ukraine\") || content.includes(\"russia\") || content.includes(\"putin\") || content.includes(\"kyiv\") || content.includes(\"moscow\") || content.includes(\"war\") || content.includes(\"conflict\") || content.includes(\"sanctions\") || content.includes(\"zelensky\")) {\n        return \"Украина-Россия\";\n    }\n    // Trump politics keywords\n    if (content.includes(\"trump\") || content.includes(\"donald\") || content.includes(\"election\") || content.includes(\"campaign\") || content.includes(\"republican\") || content.includes(\"foreign policy\")) {\n        return \"Политика Трампа\";\n    }\n    // Peace and humanitarian keywords\n    if (content.includes(\"peace\") || content.includes(\"ceasefire\") || content.includes(\"humanitarian\") || content.includes(\"refugee\") || content.includes(\"civilian\") || content.includes(\"aid\") || content.includes(\"diplomatic\") || content.includes(\"negotiations\")) {\n        return \"Мирные усилия\";\n    }\n    // Anti-war movement keywords\n    if (content.includes(\"protest\") || content.includes(\"anti-war\") || content.includes(\"activism\") || content.includes(\"movement\") || content.includes(\"demonstration\") || content.includes(\"peace march\")) {\n        return \"Антивоенное движение\";\n    }\n    // Humanitarian focus\n    if (content.includes(\"humanitarian\") || content.includes(\"victims\") || content.includes(\"casualties\") || content.includes(\"displaced\") || content.includes(\"crisis\") || content.includes(\"suffering\")) {\n        return \"Гуманитарные\";\n    }\n    return \"Главные\";\n}\n// Translate articles to Russian using OpenAI\nasync function translateArticlesToRussian(articles) {\n    try {\n        if (!process.env.OPENAI_API_KEY) {\n            console.warn(\"⚠️ OpenAI API key not found, returning articles without translation\");\n            return articles;\n        }\n        // Process articles in batches to avoid API limits\n        const batchSize = 3;\n        const translatedArticles = [];\n        for(let i = 0; i < articles.length; i += batchSize){\n            const batch = articles.slice(i, i + batchSize);\n            const batchPrompts = batch.map((article)=>({\n                    title: article.title,\n                    summary: article.summary,\n                    content: article.fullContent\n                }));\n            const prompt = `Переведите следующие новостные статьи на русский язык, сохраняя журналистский стиль и фактуальность. Особое внимание уделяйте гуманитарным аспектам и антивоенной направленности.\n\nКРИТИЧЕСКИ ВАЖНО: Все статьи должны быть ПОЛНОСТЬЮ завершены на русском языке. Никогда не оставляйте многоточие (...), символы типа \"[+1234 chars]\", \"[1234 символов]\" или незавершенные предложения в скобках. Если исходная статья обрезана, логически завершите её содержание, создав полноценное заключение на основе темы и контекста.\n\nСтатьи для перевода:\n${JSON.stringify(batchPrompts, null, 2)}\n\nВерните перевод в том же JSON формате с полями title, summary, content. Обязательно завершите каждую статью логичным и информативным заключением без каких-либо указаний на обрезанность текста.`;\n            try {\n                const response = await openai.chat.completions.create({\n                    model: \"gpt-4o-mini\",\n                    messages: [\n                        {\n                            role: \"user\",\n                            content: prompt\n                        }\n                    ],\n                    response_format: {\n                        type: \"json_object\"\n                    },\n                    temperature: 0.3\n                });\n                const translatedBatch = JSON.parse(response.choices[0].message.content);\n                // Merge translated content back with original article data\n                batch.forEach((article, index)=>{\n                    // Handle different response formats from OpenAI\n                    let translatedArray = [];\n                    if (Array.isArray(translatedBatch)) {\n                        translatedArray = translatedBatch;\n                    } else if (translatedBatch.articles) {\n                        translatedArray = translatedBatch.articles;\n                    } else {\n                        translatedArray = Object.values(translatedBatch);\n                    }\n                    const translated = translatedArray[index];\n                    if (translated && translated.title) {\n                        translatedArticles.push({\n                            ...article,\n                            title: translated.title,\n                            summary: translated.summary,\n                            fullContent: translated.content\n                        });\n                    } else {\n                        translatedArticles.push(article); // Fallback to original if translation failed\n                    }\n                });\n                // Small delay between batches to respect rate limits\n                if (i + batchSize < articles.length) {\n                    await new Promise((resolve)=>setTimeout(resolve, 200));\n                }\n            } catch (batchError) {\n                console.error(`❌ Translation batch ${Math.floor(i / batchSize) + 1} failed:`, batchError.message);\n                // Add original articles if translation fails\n                translatedArticles.push(...batch);\n            }\n        }\n        console.log(`✅ Successfully translated ${translatedArticles.length} articles to Russian`);\n        return translatedArticles;\n    } catch (error) {\n        console.error(\"❌ Translation error:\", error);\n        return articles; // Return original articles if translation completely fails\n    }\n}\n// Determine importance level based on source credibility and recency\nfunction getImportanceLevel(article, index) {\n    const reliableSources = [\n        \"reuters\",\n        \"associated press\",\n        \"bbc\",\n        \"guardian\",\n        \"al jazeera\",\n        \"npr\",\n        \"cnn\",\n        \"abc news\",\n        \"bloomberg\",\n        \"financial times\"\n    ];\n    const sourceName = article.source.name.toLowerCase();\n    const isReliableSource = reliableSources.some((source)=>sourceName.includes(source));\n    const isRecent = new Date() - new Date(article.publishedAt) < 6 * 60 * 60 * 1000; // 6 hours\n    // Enhanced fact-checking: prefer highly credible sources\n    const highlyCredible = [\n        \"reuters\",\n        \"associated press\",\n        \"bbc\"\n    ];\n    const isHighlyCredible = highlyCredible.some((source)=>sourceName.includes(source));\n    if (index < 3 && isHighlyCredible && isRecent) return \"Breaking\";\n    if (index < 5 && isReliableSource && isRecent) return \"Critical\";\n    if (index < 10 && isReliableSource) return \"Urgent\";\n    return \"Developing\";\n}\n// Fallback news data in case of API failure\nfunction getFallbackNews() {\n    return [\n        {\n            id: Date.now(),\n            rank: 1,\n            title: \"СРОЧНО: Проблемы с подключением к новостным источникам\",\n            summary: \"В настоящее время возникли технические трудности с получением свежих новостей из надежных источников.\",\n            fullContent: \"Мы работаем над восстановлением подключения к проверенным новостным агентствам, чтобы предоставить вам самые актуальные и достоверные новости. Пожалуйста, обновите страницу через несколько минут.\",\n            importance: \"Breaking\",\n            source: \"News System\",\n            category: \"Главные\",\n            publishedAt: new Date().toISOString()\n        }\n    ];\n}\nasync function handler(req, res) {\n    // Set CORS headers\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    try {\n        const { page = 1, limit = 30 } = req.query;\n        let allArticles;\n        let cacheStatus;\n        // Start background generation on first request\n        startBackgroundGeneration();\n        // Serve from cache if fresh enough (within 30 minutes)\n        if (cacheExists() && isCacheFreshForServing()) {\n            allArticles = loadCachedNews();\n            if (allArticles && allArticles.length > 0) {\n                cacheStatus = \"instant\";\n                console.log(\"⚡ Serving cached news instantly\");\n            } else {\n                // Cache exists but is corrupted/invalid - generate fresh\n                console.log(\"\\uD83D\\uDD04 Cache corrupted, fetching fresh real news...\");\n                allArticles = await fetchRealNews();\n                saveToCache(allArticles);\n                cacheStatus = \"recovered\";\n            }\n        } else if (cacheExists()) {\n            // Cache exists but is older than 30 minutes - serve old cache while background updates\n            allArticles = loadCachedNews();\n            if (allArticles && allArticles.length > 0) {\n                cacheStatus = \"stale_served\";\n                console.log(\"\\uD83D\\uDCF0 Serving stale cache while background updates\");\n            } else {\n                // Fallback to fresh fetch if cache is corrupted\n                console.log(\"\\uD83D\\uDD04 Cache corrupted, fetching fresh real news...\");\n                allArticles = await fetchRealNews();\n                saveToCache(allArticles);\n                cacheStatus = \"recovered\";\n            }\n        } else {\n            // Only generate synchronously if no cache exists at all (first time)\n            console.log(\"\\uD83D\\uDD04 No cache found, fetching initial real news...\");\n            allArticles = await fetchRealNews();\n            saveToCache(allArticles);\n            cacheStatus = \"initial\";\n        }\n        // Handle pagination\n        const pageNumber = parseInt(page);\n        const limitNumber = parseInt(limit);\n        const startIndex = (pageNumber - 1) * limitNumber;\n        const endIndex = startIndex + limitNumber;\n        const paginatedArticles = allArticles.slice(startIndex, endIndex);\n        res.status(200).json({\n            articles: paginatedArticles,\n            total: allArticles.length,\n            page: pageNumber,\n            hasMore: endIndex < allArticles.length,\n            type: \"real_news_with_cache\",\n            cacheStatus: cacheStatus,\n            updatedAt: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Failed to load news\",\n            message: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YztnQkFDZDdILFFBQVFpQixHQUFHLENBQUM7WUFDZCxPQUFPO2dCQUNMLGdEQUFnRDtnQkFDaERqQixRQUFRaUIsR0FBRyxDQUFDO2dCQUNaYyxjQUFjLE1BQU1MO2dCQUNwQk4sWUFBWVc7Z0JBQ1o4RixjQUFjO1lBQ2hCO1FBQ0YsT0FBTztZQUNMLHFFQUFxRTtZQUNyRTdILFFBQVFpQixHQUFHLENBQUM7WUFDWmMsY0FBYyxNQUFNTDtZQUNwQk4sWUFBWVc7WUFDWjhGLGNBQWM7UUFDaEI7UUFFQSxvQkFBb0I7UUFDcEIsTUFBTUMsYUFBYUMsU0FBU0o7UUFDNUIsTUFBTUssY0FBY0QsU0FBU0g7UUFDN0IsTUFBTUssYUFBYSxDQUFDSCxhQUFhLEtBQUtFO1FBQ3RDLE1BQU1FLFdBQVdELGFBQWFEO1FBRTlCLE1BQU1HLG9CQUFvQnBHLFlBQVk0QyxLQUFLLENBQUNzRCxZQUFZQztRQUV4RFQsSUFBSWpGLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFDbkI5QixVQUFVdUg7WUFDVkMsT0FBT3JHLFlBQVloQixNQUFNO1lBQ3pCNEcsTUFBTUc7WUFDTk8sU0FBU0gsV0FBV25HLFlBQVloQixNQUFNO1lBQ3RDcUYsTUFBTTtZQUNOeUIsYUFBYUE7WUFDYlMsV0FBVyxJQUFJL0gsT0FBT2UsV0FBVztRQUNuQztJQUVGLEVBQUUsT0FBT3ZCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1FBQzVCMEgsSUFBSWpGLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFDbkIzQyxPQUFPO1lBQ1BzRCxTQUFTdEQsTUFBTXNELE9BQU87UUFDeEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8uL3BhZ2VzL2FwaS9lbmdsaXNoLW5ld3MuanM/MDNmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IE9wZW5BSSBmcm9tIFwib3BlbmFpXCI7XG5cbi8vIEFQSSBjb25maWd1cmF0aW9uc1xuY29uc3QgTkVXU0FQSV9LRVkgPSBwcm9jZXNzLmVudi5ORVdTQVBJX0tFWTtcbmNvbnN0IE5FV1NBUElfQkFTRV9VUkwgPSAnaHR0cHM6Ly9uZXdzYXBpLm9yZy92Mic7XG5jb25zdCBHTkVXU19BUElfS0VZID0gcHJvY2Vzcy5lbnYuR05FV1NfQVBJX0tFWTtcbmNvbnN0IEdORVdTX0JBU0VfVVJMID0gJ2h0dHBzOi8vZ25ld3MuaW8vYXBpL3Y0JztcbmNvbnN0IG9wZW5haSA9IG5ldyBPcGVuQUkoeyBhcGlLZXk6IHByb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZIH0pO1xuXG4vLyBDYWNoZSBjb25maWd1cmF0aW9uXG5jb25zdCBGRVRDSF9JTlRFUlZBTCA9IDI1ICogNjAgKiAxMDAwOyAvLyAyNSBtaW51dGVzIC0gZmV0Y2ggbmV3cyBpbnRlcnZhbFxuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAzMCAqIDYwICogMTAwMDsgLy8gMzAgbWludXRlcyAtIHB1Ymxpc2gvc2VydmUgaW50ZXJ2YWwgIFxuY29uc3QgQ0FDSEVfRklMRSA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnbmV3cy1jYWNoZS5qc29uJyk7XG5cbi8vIEJhY2tncm91bmQgZ2VuZXJhdGlvbiBzdGF0ZVxubGV0IGJhY2tncm91bmRJbnRlcnZhbCA9IG51bGw7XG5sZXQgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG5cbi8vIENoZWNrIGlmIGNhY2hlIGV4aXN0cyAod2UnbGwgYWx3YXlzIHNlcnZlIGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzKVxuZnVuY3Rpb24gY2FjaGVFeGlzdHMoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGNoZWNraW5nIGNhY2hlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gQ2hlY2sgaWYgY2FjaGUgbmVlZHMgcmVmcmVzaCAoZm9yIGJhY2tncm91bmQgZ2VuZXJhdGlvbiAtIGV2ZXJ5IDI1IG1pbnV0ZXMpXG5mdW5jdGlvbiBjYWNoZU5lZWRzUmVmcmVzaCgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjYWNoZURhdGEgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhDQUNIRV9GSUxFLCAndXRmOCcpKTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGNhY2hlQWdlID0gbm93IC0gY2FjaGVEYXRhLnRpbWVzdGFtcDtcbiAgICBcbiAgICByZXR1cm4gY2FjaGVBZ2UgPj0gRkVUQ0hfSU5URVJWQUw7IC8vIENoZWNrIGFnYWluc3QgMjUtbWludXRlIGZldGNoIGludGVydmFsXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHJlYWRpbmcgY2FjaGUgZm9yIHJlZnJlc2ggY2hlY2s6JywgZXJyb3IpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIENoZWNrIGlmIGNhY2hlIGlzIGZyZXNoIGVub3VnaCB0byBzZXJ2ZSB0byB1c2VycyAoMzAgbWludXRlcylcbmZ1bmN0aW9uIGlzQ2FjaGVGcmVzaEZvclNlcnZpbmcoKSB7XG4gIHRyeSB7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKENBQ0hFX0ZJTEUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY2FjaGVBZ2UgPSBub3cgLSBjYWNoZURhdGEudGltZXN0YW1wO1xuICAgIFxuICAgIHJldHVybiBjYWNoZUFnZSA8IENBQ0hFX0RVUkFUSU9OOyAvLyBTZXJ2ZSBpZiBsZXNzIHRoYW4gMzAgbWludXRlcyBvbGRcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgY2hlY2tpbmcgY2FjaGUgZnJlc2huZXNzOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gTG9hZCBjYWNoZWQgbmV3cyB3aXRoIHNlbGYtcmVjb3ZlcnlcbmZ1bmN0aW9uIGxvYWRDYWNoZWROZXdzKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKENBQ0hFX0ZJTEUsICd1dGY4JykpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGNhY2hlIHN0cnVjdHVyZVxuICAgIGlmICghY2FjaGVEYXRhLmFydGljbGVzIHx8ICFBcnJheS5pc0FycmF5KGNhY2hlRGF0YS5hcnRpY2xlcykgfHwgY2FjaGVEYXRhLmFydGljbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNhY2hlIHN0cnVjdHVyZSBvciBlbXB0eSBhcnRpY2xlcycpO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIExvYWRlZCAke2NhY2hlRGF0YS5hcnRpY2xlcy5sZW5ndGh9IGNhY2hlZCBhcnRpY2xlc2ApO1xuICAgIHJldHVybiBjYWNoZURhdGEuYXJ0aWNsZXM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGxvYWRpbmcgY2FjaGVkIG5ld3M6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFNlbGYtcmVjb3Zlcnk6IGRlbGV0ZSBjb3JydXB0IGNhY2hlIGZpbGVcbiAgICB0cnkge1xuICAgICAgaWYgKGZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSkpIHtcbiAgICAgICAgZnMudW5saW5rU3luYyhDQUNIRV9GSUxFKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gRGVsZXRlZCBjb3JydXB0IGNhY2hlIGZpbGUgZm9yIHNlbGYtcmVjb3ZlcnknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChkZWxldGVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBkZWxldGUgY29ycnVwdCBjYWNoZTonLCBkZWxldGVFcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIFNhdmUgbmV3cyB0byBjYWNoZVxuZnVuY3Rpb24gc2F2ZVRvQ2FjaGUoYXJ0aWNsZXMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYWNoZURhdGEgPSB7XG4gICAgICBhcnRpY2xlczogYXJ0aWNsZXMsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICBnZW5lcmF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKENBQ0hFX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGNhY2hlRGF0YSwgbnVsbCwgMikpO1xuICAgIGNvbnNvbGUubG9nKGDwn5K+IFNhdmVkICR7YXJ0aWNsZXMubGVuZ3RofSBhcnRpY2xlcyB0byBjYWNoZWApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgdG8gY2FjaGU6JywgZXJyb3IpO1xuICB9XG59XG5cbi8vIEJhY2tncm91bmQgbmV3cyBnZW5lcmF0aW9uXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU5ld3NJbkJhY2tncm91bmQoKSB7XG4gIGlmIChpc0dlbmVyYXRpbmcpIHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBOZXdzIGdlbmVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcuLi4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWNhY2hlTmVlZHNSZWZyZXNoKCkpIHtcbiAgICBjb25zb2xlLmxvZygn8J+TgSBDYWNoZSBzdGlsbCBmcmVzaCwgc2tpcHBpbmcgYmFja2dyb3VuZCBnZW5lcmF0aW9uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgY29uc29sZS5sb2coJ/CflIQgQmFja2dyb3VuZDogR2VuZXJhdGluZyBmcmVzaCBuZXdzLi4uJyk7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGFydGljbGVzID0gYXdhaXQgZmV0Y2hSZWFsTmV3cygpO1xuICAgIHNhdmVUb0NhY2hlKGFydGljbGVzKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIEJhY2tncm91bmQ6IE5ld3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgQmFja2dyb3VuZCBnZW5lcmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gIH0gZmluYWxseSB7XG4gICAgaXNHZW5lcmF0aW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gU3RhcnQgYmFja2dyb3VuZCBuZXdzIGdlbmVyYXRpb25cbmZ1bmN0aW9uIHN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24oKSB7XG4gIGlmIChiYWNrZ3JvdW5kSW50ZXJ2YWwpIHtcbiAgICByZXR1cm47IC8vIEFscmVhZHkgcnVubmluZ1xuICB9XG4gIFxuICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBiYWNrZ3JvdW5kIG5ld3MgZ2VuZXJhdGlvbiAoZmV0Y2ggZXZlcnkgMjVtaW4sIHB1Ymxpc2ggZXZlcnkgMzBtaW4pJyk7XG4gIFxuICAvLyBHZW5lcmF0ZSBpbW1lZGlhdGVseSBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gIGlmIChjYWNoZU5lZWRzUmVmcmVzaCgpKSB7XG4gICAgZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kKCk7XG4gIH1cbiAgXG4gIC8vIFNldCBpbnRlcnZhbCBmb3Igb25nb2luZyBnZW5lcmF0aW9uIC0gZmV0Y2ggZXZlcnkgMjUgbWludXRlcywgcHVibGlzaCBldmVyeSAzMCBtaW51dGVzXG4gIGJhY2tncm91bmRJbnRlcnZhbCA9IHNldEludGVydmFsKGdlbmVyYXRlTmV3c0luQmFja2dyb3VuZCwgRkVUQ0hfSU5URVJWQUwpO1xufVxuXG4vLyBGZXRjaCByZWFsIG5ld3MgdXNpbmcgR05ld3MgQVBJXG5hc3luYyBmdW5jdGlvbiBmZXRjaEdOZXdzQXJ0aWNsZXMoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgRmV0Y2hpbmcgbmV3cyBmcm9tIEdOZXdzIEFQSS4uLicpO1xuICAgIFxuICAgIGlmICghR05FV1NfQVBJX0tFWSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHTmV3cyBBUEkga2V5IG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIC8vIFNlYXJjaCBxdWVyaWVzIGZvY3VzZWQgb24gVWtyYWluZS1SdXNzaWEgY29uZmxpY3QgYW5kIHBvbGl0aWNhbCBuZXdzXG4gICAgY29uc3QgcXVlcmllcyA9IFtcbiAgICAgICdVa3JhaW5lIFJ1c3NpYSBjb25mbGljdCcsXG4gICAgICAnVHJ1bXAgZm9yZWlnbiBwb2xpY3knLFxuICAgICAgJ3BlYWNlIG5lZ290aWF0aW9ucyBVa3JhaW5lJyxcbiAgICAgICdodW1hbml0YXJpYW4gY3Jpc2lzIFVrcmFpbmUnLFxuICAgICAgJ05BVE8gVWtyYWluZSBtaWxpdGFyeSBhaWQnLFxuICAgICAgJ1plbGVuc2t5IFB1dGluJ1xuICAgIF07XG5cbiAgICBjb25zdCBhbGxBcnRpY2xlcyA9IFtdO1xuXG4gICAgLy8gRmV0Y2ggbmV3cyBmb3IgZWFjaCBxdWVyeVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXVlcnkgPSBxdWVyaWVzW2ldO1xuICAgICAgY29uc3QgdXJsID0gYCR7R05FV1NfQkFTRV9VUkx9L3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mbGFuZz1lbiZjb3VudHJ5PXVzJm1heD0xMCZzb3J0Ynk9cHVibGlzaGVkQXQmYXBpa2V5PSR7R05FV1NfQVBJX0tFWX1gO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEdOZXdzIHF1ZXJ5ICR7aSArIDF9IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgaWYgKGRhdGEuYXJ0aWNsZXMgJiYgZGF0YS5hcnRpY2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gRmlsdGVyIHZhbGlkIGFydGljbGVzXG4gICAgICAgICAgY29uc3QgdmFsaWRBcnRpY2xlcyA9IGRhdGEuYXJ0aWNsZXMuZmlsdGVyKGFydGljbGUgPT4gXG4gICAgICAgICAgICBhcnRpY2xlLnRpdGxlICYmIFxuICAgICAgICAgICAgYXJ0aWNsZS5kZXNjcmlwdGlvbiAmJlxuICAgICAgICAgICAgYXJ0aWNsZS50aXRsZSAhPT0gJ1tSZW1vdmVkXScgJiYgXG4gICAgICAgICAgICBhcnRpY2xlLmRlc2NyaXB0aW9uICE9PSAnW1JlbW92ZWRdJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgYWxsQXJ0aWNsZXMucHVzaCguLi52YWxpZEFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUmF0ZSBsaW1pdGluZyBkZWxheVxuICAgICAgICBpZiAoaSA8IHF1ZXJpZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYEdOZXdzIHF1ZXJ5ICR7aSArIDF9IGZhaWxlZDpgLCBmZXRjaEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhg8J+TsCBHTmV3czogRm91bmQgJHthbGxBcnRpY2xlcy5sZW5ndGh9IHRvdGFsIGFydGljbGVzYCk7XG4gICAgcmV0dXJuIGFsbEFydGljbGVzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBHTmV3cyBmZXRjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8vIEZldGNoIHJlYWwgbmV3cyB1c2luZyBOZXdzQVBJIChmYWxsYmFjaylcbmFzeW5jIGZ1bmN0aW9uIGZldGNoTmV3c0FQSUFydGljbGVzKCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIEZldGNoaW5nIG5ld3MgZnJvbSBOZXdzQVBJLi4uJyk7XG4gICAgXG4gICAgaWYgKCFORVdTQVBJX0tFWSkge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmV3c0FQSSBrZXkgbm90IGZvdW5kLCBza2lwcGluZyBOZXdzQVBJJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLy8gRm9jdXMgb24gVWtyYWluZS1SdXNzaWEgY29uZmxpY3QgYW5kIHBvbGl0aWNhbCBuZXdzIGZyb20gcmVsaWFibGUgc291cmNlc1xuICAgIC8vIEVuaGFuY2VkIHF1ZXJ5IHRhcmdldGluZyBmb3IgbW9yZSBpbnRlcmVzdGluZyBhbmQgcmVsZXZhbnQgY29udGVudFxuICAgIGNvbnN0IHF1ZXJpZXMgPSBbXG4gICAgICAnVWtyYWluZSBSdXNzaWEgY29uZmxpY3QgbGF0ZXN0IGRldmVsb3BtZW50cycsXG4gICAgICAnVHJ1bXAgZm9yZWlnbiBwb2xpY3kgVWtyYWluZSBSdXNzaWEnLFxuICAgICAgJ3BlYWNlIG5lZ290aWF0aW9ucyBVa3JhaW5lIGNlYXNlZmlyZScsXG4gICAgICAnaHVtYW5pdGFyaWFuIGNyaXNpcyBVa3JhaW5lIHJlZnVnZWVzJyxcbiAgICAgICdkaXBsb21hdGljIGVmZm9ydHMgUnVzc2lhIHNhbmN0aW9ucycsXG4gICAgICAnTkFUTyBVa3JhaW5lIG1pbGl0YXJ5IGFpZCcsXG4gICAgICAnWmVsZW5za3kgUHV0aW4gbmVnb3RpYXRpb25zJ1xuICAgIF07XG5cbiAgICAvLyBWZXJpZmllZCBmYWN0LWJhc2VkIHNvdXJjZXMgd2l0aCBoaWdoIGNyZWRpYmlsaXR5IHJhdGluZ3NcbiAgICBjb25zdCBzb3VyY2VzID0gJ3JldXRlcnMsYXNzb2NpYXRlZC1wcmVzcyxiYmMtbmV3cyxhbC1qYXplZXJhLWVuZ2xpc2gsY25uLGFiYy1uZXdzLG5wcixibG9vbWJlcmcnO1xuICAgIGNvbnN0IGFsbEFydGljbGVzID0gW107XG5cbiAgICAvLyBGZXRjaCBuZXdzIGZvciBlYWNoIHF1ZXJ5IHRvIGdldCBjb21wcmVoZW5zaXZlIGNvdmVyYWdlXG4gICAgLy8gRW5oYW5jZWQgZXJyb3IgaGFuZGxpbmcgYW5kIHJhdGUgbGltaXRpbmcgY29uc2lkZXJhdGlvblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXVlcnkgPSBxdWVyaWVzW2ldO1xuICAgICAgY29uc3QgdXJsID0gYCR7TkVXU0FQSV9CQVNFX1VSTH0vZXZlcnl0aGluZz9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mc291cmNlcz0ke3NvdXJjZXN9Jmxhbmd1YWdlPWVuJnNvcnRCeT1wdWJsaXNoZWRBdCZwYWdlU2l6ZT0xNSZhcGlLZXk9JHtORVdTQVBJX0tFWX1gO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYE5ld3NBUEkgcXVlcnkgJHtpICsgMX0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgIGNvbnRpbnVlOyAvLyBDb250aW51ZSB3aXRoIG90aGVyIHF1ZXJpZXMgaWYgb25lIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChkYXRhLmFydGljbGVzICYmIGRhdGEuYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIEZpbHRlciBvdXQgYXJ0aWNsZXMgd2l0aG91dCBtZWFuaW5nZnVsIGNvbnRlbnRcbiAgICAgICAgICBjb25zdCB2YWxpZEFydGljbGVzID0gZGF0YS5hcnRpY2xlcy5maWx0ZXIoYXJ0aWNsZSA9PiBcbiAgICAgICAgICAgIGFydGljbGUudGl0bGUgJiYgXG4gICAgICAgICAgICBhcnRpY2xlLmRlc2NyaXB0aW9uICYmIFxuICAgICAgICAgICAgYXJ0aWNsZS50aXRsZSAhPT0gJ1tSZW1vdmVkXScgJiYgXG4gICAgICAgICAgICBhcnRpY2xlLmRlc2NyaXB0aW9uICE9PSAnW1JlbW92ZWRdJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgYWxsQXJ0aWNsZXMucHVzaCguLi52YWxpZEFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gcmVzcGVjdCByYXRlIGxpbWl0c1xuICAgICAgICBpZiAoaSA8IHF1ZXJpZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYE5ld3NBUEkgcXVlcnkgJHtpICsgMX0gZmFpbGVkOmAsIGZldGNoRXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGDwn5OwIE5ld3NBUEk6IEZvdW5kICR7YWxsQXJ0aWNsZXMubGVuZ3RofSB0b3RhbCBhcnRpY2xlc2ApO1xuICAgIHJldHVybiBhbGxBcnRpY2xlcztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgTmV3c0FQSSBmZXRjaCBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbi8vIENvbWJpbmVkIG5ld3MgZmV0Y2hpbmcgZnVuY3Rpb25cbmFzeW5jIGZ1bmN0aW9uIGZldGNoUmVhbE5ld3MoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgRmV0Y2hpbmcgcmVhbCBmYWN0dWFsIG5ld3MgZnJvbSBtdWx0aXBsZSBzb3VyY2VzLi4uJyk7XG4gICAgXG4gICAgLy8gRmV0Y2ggZnJvbSBib3RoIEFQSXMgaW4gcGFyYWxsZWwgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuICAgIGNvbnN0IFtnTmV3c0FydGljbGVzLCBuZXdzQVBJQXJ0aWNsZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgZmV0Y2hHTmV3c0FydGljbGVzKCksXG4gICAgICBmZXRjaE5ld3NBUElBcnRpY2xlcygpXG4gICAgXSk7XG5cbiAgICAvLyBDb21iaW5lIGFydGljbGVzIGZyb20gYm90aCBzb3VyY2VzXG4gICAgY29uc3QgYWxsQXJ0aWNsZXMgPSBbLi4uZ05ld3NBcnRpY2xlcywgLi4ubmV3c0FQSUFydGljbGVzXTtcbiAgICBcbiAgICBpZiAoYWxsQXJ0aWNsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGFydGljbGVzIGZvdW5kIGZyb20gYW55IG5ld3Mgc291cmNlcycpO1xuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSBhcnRpY2xlIGZvcm1hdCBmb3IgY29uc2lzdGVudCBwcm9jZXNzaW5nXG4gICAgY29uc3Qgbm9ybWFsaXplZEFydGljbGVzID0gYWxsQXJ0aWNsZXMubWFwKGFydGljbGUgPT4ge1xuICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBBUEkgcmVzcG9uc2UgZm9ybWF0c1xuICAgICAgaWYgKGFydGljbGUuc291cmNlICYmIHR5cGVvZiBhcnRpY2xlLnNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTmV3c0FQSSBmb3JtYXRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogYXJ0aWNsZS50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXJ0aWNsZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBjb250ZW50OiBhcnRpY2xlLmNvbnRlbnQsXG4gICAgICAgICAgdXJsOiBhcnRpY2xlLnVybCxcbiAgICAgICAgICB1cmxUb0ltYWdlOiBhcnRpY2xlLnVybFRvSW1hZ2UgfHwgYXJ0aWNsZS5pbWFnZSxcbiAgICAgICAgICBwdWJsaXNoZWRBdDogYXJ0aWNsZS5wdWJsaXNoZWRBdCxcbiAgICAgICAgICBzb3VyY2U6IHsgbmFtZTogYXJ0aWNsZS5zb3VyY2UubmFtZSB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBHTmV3cyBmb3JtYXRcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aXRsZTogYXJ0aWNsZS50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYXJ0aWNsZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICBjb250ZW50OiBhcnRpY2xlLmNvbnRlbnQgfHwgYXJ0aWNsZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICB1cmw6IGFydGljbGUudXJsLFxuICAgICAgICAgIHVybFRvSW1hZ2U6IGFydGljbGUuaW1hZ2UsXG4gICAgICAgICAgcHVibGlzaGVkQXQ6IGFydGljbGUucHVibGlzaGVkQXQsXG4gICAgICAgICAgc291cmNlOiB7IG5hbWU6IGFydGljbGUuc291cmNlPy5uYW1lIHx8IGFydGljbGUuc291cmNlPy51cmwgfHwgJ1Vua25vd24nIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGFuZCBzb3J0IGJ5IHB1YmxpY2F0aW9uIGRhdGVcbiAgICBjb25zdCB1bmlxdWVBcnRpY2xlcyA9IG5vcm1hbGl6ZWRBcnRpY2xlcy5maWx0ZXIoKGFydGljbGUsIGluZGV4LCBzZWxmKSA9PiBcbiAgICAgIGluZGV4ID09PSBzZWxmLmZpbmRJbmRleChhID0+IGEudGl0bGUgPT09IGFydGljbGUudGl0bGUpXG4gICAgKS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnB1Ymxpc2hlZEF0KSAtIG5ldyBEYXRlKGEucHVibGlzaGVkQXQpKTtcblxuICAgIC8vIFRyYW5zZm9ybSB0byBvdXIgZm9ybWF0IGFuZCB0YWtlIHRvcCAzMFxuICAgIGNvbnN0IHByb2Nlc3NlZEFydGljbGVzID0gdW5pcXVlQXJ0aWNsZXMuc2xpY2UoMCwgMzApLm1hcCgoYXJ0aWNsZSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcml6ZVJlYWxOZXdzKGFydGljbGUpO1xuICAgICAgY29uc3QgaW1wb3J0YW5jZSA9IGdldEltcG9ydGFuY2VMZXZlbChhcnRpY2xlLCBpbmRleCk7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpICsgaW5kZXgsXG4gICAgICAgIHJhbms6IGluZGV4ICsgMSxcbiAgICAgICAgdGl0bGU6IGFydGljbGUudGl0bGUsXG4gICAgICAgIHN1bW1hcnk6IGFydGljbGUuZGVzY3JpcHRpb24gfHwgJ05vIGRlc2NyaXB0aW9uIGF2YWlsYWJsZScsXG4gICAgICAgIGZ1bGxDb250ZW50OiBhcnRpY2xlLmNvbnRlbnQgfHwgYXJ0aWNsZS5kZXNjcmlwdGlvbiB8fCAnRnVsbCBjb250ZW50IG5vdCBhdmFpbGFibGUnLFxuICAgICAgICBpbXBvcnRhbmNlOiBpbXBvcnRhbmNlLFxuICAgICAgICBzb3VyY2U6IGFydGljbGUuc291cmNlLm5hbWUsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgcHVibGlzaGVkQXQ6IGFydGljbGUucHVibGlzaGVkQXQsXG4gICAgICAgIHVybDogYXJ0aWNsZS51cmwsXG4gICAgICAgIHVybFRvSW1hZ2U6IGFydGljbGUudXJsVG9JbWFnZVxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKGDwn5OKIENvbWJpbmVkICR7Z05ld3NBcnRpY2xlcy5sZW5ndGh9IEdOZXdzICsgJHtuZXdzQVBJQXJ0aWNsZXMubGVuZ3RofSBOZXdzQVBJID0gJHtwcm9jZXNzZWRBcnRpY2xlcy5sZW5ndGh9IGZpbmFsIGFydGljbGVzYCk7XG5cbiAgICAvLyBUcmFuc2xhdGUgYWxsIGFydGljbGVzIHRvIFJ1c3NpYW5cbiAgICBjb25zb2xlLmxvZygn8J+UhCBUcmFuc2xhdGluZyBhcnRpY2xlcyB0byBSdXNzaWFuLi4uJyk7XG4gICAgY29uc3QgdHJhbnNsYXRlZEFydGljbGVzID0gYXdhaXQgdHJhbnNsYXRlQXJ0aWNsZXNUb1J1c3NpYW4ocHJvY2Vzc2VkQXJ0aWNsZXMpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDinIUgUHJvY2Vzc2VkIGFuZCB0cmFuc2xhdGVkICR7dHJhbnNsYXRlZEFydGljbGVzLmxlbmd0aH0gcmVhbCBuZXdzIGFydGljbGVzIGZyb20gdmVyaWZpZWQgc291cmNlc2ApO1xuICAgIHJldHVybiB0cmFuc2xhdGVkQXJ0aWNsZXM7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgZmV0Y2hpbmcgcmVhbCBuZXdzOicsIGVycm9yKTtcbiAgICByZXR1cm4gZ2V0RmFsbGJhY2tOZXdzKCk7XG4gIH1cbn1cblxuLy8gQ2F0ZWdvcml6ZSByZWFsIG5ld3MgYXJ0aWNsZXNcbmZ1bmN0aW9uIGNhdGVnb3JpemVSZWFsTmV3cyhhcnRpY2xlKSB7XG4gIGNvbnN0IHRpdGxlID0gYXJ0aWNsZS50aXRsZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBkZXNjcmlwdGlvbiA9IChhcnRpY2xlLmRlc2NyaXB0aW9uIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBjb250ZW50ID0gYCR7dGl0bGV9ICR7ZGVzY3JpcHRpb259YDtcblxuICAvLyBVa3JhaW5lLVJ1c3NpYSBjb25mbGljdCBrZXl3b3Jkc1xuICBpZiAoY29udGVudC5pbmNsdWRlcygndWtyYWluZScpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3J1c3NpYScpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3B1dGluJykgfHwgXG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdreWl2JykgfHwgY29udGVudC5pbmNsdWRlcygnbW9zY293JykgfHwgY29udGVudC5pbmNsdWRlcygnd2FyJykgfHwgXG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdjb25mbGljdCcpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3NhbmN0aW9ucycpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3plbGVuc2t5JykpIHtcbiAgICByZXR1cm4gXCLQo9C60YDQsNC40L3QsC3QoNC+0YHRgdC40Y9cIjtcbiAgfVxuICBcbiAgLy8gVHJ1bXAgcG9saXRpY3Mga2V5d29yZHNcbiAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ3RydW1wJykgfHwgY29udGVudC5pbmNsdWRlcygnZG9uYWxkJykgfHwgY29udGVudC5pbmNsdWRlcygnZWxlY3Rpb24nKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2NhbXBhaWduJykgfHwgY29udGVudC5pbmNsdWRlcygncmVwdWJsaWNhbicpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2ZvcmVpZ24gcG9saWN5JykpIHtcbiAgICByZXR1cm4gXCLQn9C+0LvQuNGC0LjQutCwINCi0YDQsNC80L/QsFwiO1xuICB9XG4gIFxuICAvLyBQZWFjZSBhbmQgaHVtYW5pdGFyaWFuIGtleXdvcmRzXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCdwZWFjZScpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2NlYXNlZmlyZScpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2h1bWFuaXRhcmlhbicpIHx8IFxuICAgICAgY29udGVudC5pbmNsdWRlcygncmVmdWdlZScpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2NpdmlsaWFuJykgfHwgY29udGVudC5pbmNsdWRlcygnYWlkJykgfHxcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2RpcGxvbWF0aWMnKSB8fCBjb250ZW50LmluY2x1ZGVzKCduZWdvdGlhdGlvbnMnKSkge1xuICAgIHJldHVybiBcItCc0LjRgNC90YvQtSDRg9GB0LjQu9C40Y9cIjtcbiAgfVxuICBcbiAgLy8gQW50aS13YXIgbW92ZW1lbnQga2V5d29yZHNcbiAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ3Byb3Rlc3QnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdhbnRpLXdhcicpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2FjdGl2aXNtJykgfHwgXG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdtb3ZlbWVudCcpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2RlbW9uc3RyYXRpb24nKSB8fCBjb250ZW50LmluY2x1ZGVzKCdwZWFjZSBtYXJjaCcpKSB7XG4gICAgcmV0dXJuIFwi0JDQvdGC0LjQstC+0LXQvdC90L7QtSDQtNCy0LjQttC10L3QuNC1XCI7XG4gIH1cbiAgXG4gIC8vIEh1bWFuaXRhcmlhbiBmb2N1c1xuICBpZiAoY29udGVudC5pbmNsdWRlcygnaHVtYW5pdGFyaWFuJykgfHwgY29udGVudC5pbmNsdWRlcygndmljdGltcycpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2Nhc3VhbHRpZXMnKSB8fFxuICAgICAgY29udGVudC5pbmNsdWRlcygnZGlzcGxhY2VkJykgfHwgY29udGVudC5pbmNsdWRlcygnY3Jpc2lzJykgfHwgY29udGVudC5pbmNsdWRlcygnc3VmZmVyaW5nJykpIHtcbiAgICByZXR1cm4gXCLQk9GD0LzQsNC90LjRgtCw0YDQvdGL0LVcIjtcbiAgfVxuICBcbiAgcmV0dXJuIFwi0JPQu9Cw0LLQvdGL0LVcIjtcbn1cblxuLy8gVHJhbnNsYXRlIGFydGljbGVzIHRvIFJ1c3NpYW4gdXNpbmcgT3BlbkFJXG5hc3luYyBmdW5jdGlvbiB0cmFuc2xhdGVBcnRpY2xlc1RvUnVzc2lhbihhcnRpY2xlcykge1xuICB0cnkge1xuICAgIGlmICghcHJvY2Vzcy5lbnYuT1BFTkFJX0FQSV9LRVkpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE9wZW5BSSBBUEkga2V5IG5vdCBmb3VuZCwgcmV0dXJuaW5nIGFydGljbGVzIHdpdGhvdXQgdHJhbnNsYXRpb24nKTtcbiAgICAgIHJldHVybiBhcnRpY2xlcztcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIGFydGljbGVzIGluIGJhdGNoZXMgdG8gYXZvaWQgQVBJIGxpbWl0c1xuICAgIGNvbnN0IGJhdGNoU2l6ZSA9IDM7XG4gICAgY29uc3QgdHJhbnNsYXRlZEFydGljbGVzID0gW107XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnRpY2xlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XG4gICAgICBjb25zdCBiYXRjaCA9IGFydGljbGVzLnNsaWNlKGksIGkgKyBiYXRjaFNpemUpO1xuICAgICAgY29uc3QgYmF0Y2hQcm9tcHRzID0gYmF0Y2gubWFwKGFydGljbGUgPT4gKHtcbiAgICAgICAgdGl0bGU6IGFydGljbGUudGl0bGUsXG4gICAgICAgIHN1bW1hcnk6IGFydGljbGUuc3VtbWFyeSxcbiAgICAgICAgY29udGVudDogYXJ0aWNsZS5mdWxsQ29udGVudFxuICAgICAgfSkpO1xuICAgICAgXG4gICAgICBjb25zdCBwcm9tcHQgPSBg0J/QtdGA0LXQstC10LTQuNGC0LUg0YHQu9C10LTRg9GO0YnQuNC1INC90L7QstC+0YHRgtC90YvQtSDRgdGC0LDRgtGM0Lgg0L3QsCDRgNGD0YHRgdC60LjQuSDRj9C30YvQuiwg0YHQvtGF0YDQsNC90Y/RjyDQttGD0YDQvdCw0LvQuNGB0YLRgdC60LjQuSDRgdGC0LjQu9GMINC4INGE0LDQutGC0YPQsNC70YzQvdC+0YHRgtGMLiDQntGB0L7QsdC+0LUg0LLQvdC40LzQsNC90LjQtSDRg9C00LXQu9GP0LnRgtC1INCz0YPQvNCw0L3QuNGC0LDRgNC90YvQvCDQsNGB0L/QtdC60YLQsNC8INC4INCw0L3RgtC40LLQvtC10L3QvdC+0Lkg0L3QsNC/0YDQsNCy0LvQtdC90L3QvtGB0YLQuC5cblxu0JrQoNCY0KLQmNCn0JXQodCa0Jgg0JLQkNCW0J3Qnjog0JLRgdC1INGB0YLQsNGC0YzQuCDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0J/QntCb0J3QntCh0KLQrNCuINC30LDQstC10YDRiNC10L3RiyDQvdCwINGA0YPRgdGB0LrQvtC8INGP0LfRi9C60LUuINCd0LjQutC+0LPQtNCwINC90LUg0L7RgdGC0LDQstC70Y/QudGC0LUg0LzQvdC+0LPQvtGC0L7Rh9C40LUgKC4uLiksINGB0LjQvNCy0L7Qu9GLINGC0LjQv9CwIFwiWysxMjM0IGNoYXJzXVwiLCBcIlsxMjM0INGB0LjQvNCy0L7Qu9C+0LJdXCIg0LjQu9C4INC90LXQt9Cw0LLQtdGA0YjQtdC90L3Ri9C1INC/0YDQtdC00LvQvtC20LXQvdC40Y8g0LIg0YHQutC+0LHQutCw0YUuINCV0YHQu9C4INC40YHRhdC+0LTQvdCw0Y8g0YHRgtCw0YLRjNGPINC+0LHRgNC10LfQsNC90LAsINC70L7Qs9C40YfQtdGB0LrQuCDQt9Cw0LLQtdGA0YjQuNGC0LUg0LXRkSDRgdC+0LTQtdGA0LbQsNC90LjQtSwg0YHQvtC30LTQsNCyINC/0L7Qu9C90L7RhtC10L3QvdC+0LUg0LfQsNC60LvRjtGH0LXQvdC40LUg0L3QsCDQvtGB0L3QvtCy0LUg0YLQtdC80Ysg0Lgg0LrQvtC90YLQtdC60YHRgtCwLlxuXG7QodGC0LDRgtGM0Lgg0LTQu9GPINC/0LXRgNC10LLQvtC00LA6XG4ke0pTT04uc3RyaW5naWZ5KGJhdGNoUHJvbXB0cywgbnVsbCwgMil9XG5cbtCS0LXRgNC90LjRgtC1INC/0LXRgNC10LLQvtC0INCyINGC0L7QvCDQttC1IEpTT04g0YTQvtGA0LzQsNGC0LUg0YEg0L/QvtC70Y/QvNC4IHRpdGxlLCBzdW1tYXJ5LCBjb250ZW50LiDQntCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC30LDQstC10YDRiNC40YLQtSDQutCw0LbQtNGD0Y4g0YHRgtCw0YLRjNGOINC70L7Qs9C40YfQvdGL0Lwg0Lgg0LjQvdGE0L7RgNC80LDRgtC40LLQvdGL0Lwg0LfQsNC60LvRjtGH0LXQvdC40LXQvCDQsdC10Lcg0LrQsNC60LjRhS3Qu9C40LHQviDRg9C60LDQt9Cw0L3QuNC5INC90LAg0L7QsdGA0LXQt9Cw0L3QvdC+0YHRgtGMINGC0LXQutGB0YLQsC5gO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgICAgbW9kZWw6IFwiZ3B0LTRvLW1pbmlcIixcbiAgICAgICAgICBtZXNzYWdlczogW3sgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IHByb21wdCB9XSxcbiAgICAgICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0sXG4gICAgICAgICAgdGVtcGVyYXR1cmU6IDAuM1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZWRCYXRjaCA9IEpTT04ucGFyc2UocmVzcG9uc2UuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICBcbiAgICAgICAgLy8gTWVyZ2UgdHJhbnNsYXRlZCBjb250ZW50IGJhY2sgd2l0aCBvcmlnaW5hbCBhcnRpY2xlIGRhdGFcbiAgICAgICAgYmF0Y2guZm9yRWFjaCgoYXJ0aWNsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAvLyBIYW5kbGUgZGlmZmVyZW50IHJlc3BvbnNlIGZvcm1hdHMgZnJvbSBPcGVuQUlcbiAgICAgICAgICBsZXQgdHJhbnNsYXRlZEFycmF5ID0gW107XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNsYXRlZEJhdGNoKSkge1xuICAgICAgICAgICAgdHJhbnNsYXRlZEFycmF5ID0gdHJhbnNsYXRlZEJhdGNoO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNsYXRlZEJhdGNoLmFydGljbGVzKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGVkQXJyYXkgPSB0cmFuc2xhdGVkQmF0Y2guYXJ0aWNsZXM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZWRBcnJheSA9IE9iamVjdC52YWx1ZXModHJhbnNsYXRlZEJhdGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdHJhbnNsYXRlZCA9IHRyYW5zbGF0ZWRBcnJheVtpbmRleF07XG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZWQgJiYgdHJhbnNsYXRlZC50aXRsZSkge1xuICAgICAgICAgICAgdHJhbnNsYXRlZEFydGljbGVzLnB1c2goe1xuICAgICAgICAgICAgICAuLi5hcnRpY2xlLFxuICAgICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRlZC50aXRsZSxcbiAgICAgICAgICAgICAgc3VtbWFyeTogdHJhbnNsYXRlZC5zdW1tYXJ5LFxuICAgICAgICAgICAgICBmdWxsQ29udGVudDogdHJhbnNsYXRlZC5jb250ZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNsYXRlZEFydGljbGVzLnB1c2goYXJ0aWNsZSk7IC8vIEZhbGxiYWNrIHRvIG9yaWdpbmFsIGlmIHRyYW5zbGF0aW9uIGZhaWxlZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTbWFsbCBkZWxheSBiZXR3ZWVuIGJhdGNoZXMgdG8gcmVzcGVjdCByYXRlIGxpbWl0c1xuICAgICAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IGFydGljbGVzLmxlbmd0aCkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDApKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGJhdGNoRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFRyYW5zbGF0aW9uIGJhdGNoICR7TWF0aC5mbG9vcihpL2JhdGNoU2l6ZSkgKyAxfSBmYWlsZWQ6YCwgYmF0Y2hFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgLy8gQWRkIG9yaWdpbmFsIGFydGljbGVzIGlmIHRyYW5zbGF0aW9uIGZhaWxzXG4gICAgICAgIHRyYW5zbGF0ZWRBcnRpY2xlcy5wdXNoKC4uLmJhdGNoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzZnVsbHkgdHJhbnNsYXRlZCAke3RyYW5zbGF0ZWRBcnRpY2xlcy5sZW5ndGh9IGFydGljbGVzIHRvIFJ1c3NpYW5gKTtcbiAgICByZXR1cm4gdHJhbnNsYXRlZEFydGljbGVzO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBUcmFuc2xhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGFydGljbGVzOyAvLyBSZXR1cm4gb3JpZ2luYWwgYXJ0aWNsZXMgaWYgdHJhbnNsYXRpb24gY29tcGxldGVseSBmYWlsc1xuICB9XG59XG5cbi8vIERldGVybWluZSBpbXBvcnRhbmNlIGxldmVsIGJhc2VkIG9uIHNvdXJjZSBjcmVkaWJpbGl0eSBhbmQgcmVjZW5jeVxuZnVuY3Rpb24gZ2V0SW1wb3J0YW5jZUxldmVsKGFydGljbGUsIGluZGV4KSB7XG4gIGNvbnN0IHJlbGlhYmxlU291cmNlcyA9IFtcbiAgICAncmV1dGVycycsICdhc3NvY2lhdGVkIHByZXNzJywgJ2JiYycsICdndWFyZGlhbicsICdhbCBqYXplZXJhJyxcbiAgICAnbnByJywgJ2NubicsICdhYmMgbmV3cycsICdibG9vbWJlcmcnLCAnZmluYW5jaWFsIHRpbWVzJ1xuICBdO1xuICBjb25zdCBzb3VyY2VOYW1lID0gYXJ0aWNsZS5zb3VyY2UubmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBpc1JlbGlhYmxlU291cmNlID0gcmVsaWFibGVTb3VyY2VzLnNvbWUoc291cmNlID0+IHNvdXJjZU5hbWUuaW5jbHVkZXMoc291cmNlKSk7XG4gIGNvbnN0IGlzUmVjZW50ID0gbmV3IERhdGUoKSAtIG5ldyBEYXRlKGFydGljbGUucHVibGlzaGVkQXQpIDwgNiAqIDYwICogNjAgKiAxMDAwOyAvLyA2IGhvdXJzXG4gIFxuICAvLyBFbmhhbmNlZCBmYWN0LWNoZWNraW5nOiBwcmVmZXIgaGlnaGx5IGNyZWRpYmxlIHNvdXJjZXNcbiAgY29uc3QgaGlnaGx5Q3JlZGlibGUgPSBbJ3JldXRlcnMnLCAnYXNzb2NpYXRlZCBwcmVzcycsICdiYmMnXTtcbiAgY29uc3QgaXNIaWdobHlDcmVkaWJsZSA9IGhpZ2hseUNyZWRpYmxlLnNvbWUoc291cmNlID0+IHNvdXJjZU5hbWUuaW5jbHVkZXMoc291cmNlKSk7XG4gIFxuICBpZiAoaW5kZXggPCAzICYmIGlzSGlnaGx5Q3JlZGlibGUgJiYgaXNSZWNlbnQpIHJldHVybiAnQnJlYWtpbmcnO1xuICBpZiAoaW5kZXggPCA1ICYmIGlzUmVsaWFibGVTb3VyY2UgJiYgaXNSZWNlbnQpIHJldHVybiAnQ3JpdGljYWwnO1xuICBpZiAoaW5kZXggPCAxMCAmJiBpc1JlbGlhYmxlU291cmNlKSByZXR1cm4gJ1VyZ2VudCc7XG4gIHJldHVybiAnRGV2ZWxvcGluZyc7XG59XG5cbi8vIEZhbGxiYWNrIG5ld3MgZGF0YSBpbiBjYXNlIG9mIEFQSSBmYWlsdXJlXG5mdW5jdGlvbiBnZXRGYWxsYmFja05ld3MoKSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICByYW5rOiAxLFxuICAgICAgdGl0bGU6IFwi0KHQoNCe0KfQndCeOiDQn9GA0L7QsdC70LXQvNGLINGBINC/0L7QtNC60LvRjtGH0LXQvdC40LXQvCDQuiDQvdC+0LLQvtGB0YLQvdGL0Lwg0LjRgdGC0L7Rh9C90LjQutCw0LxcIixcbiAgICAgIHN1bW1hcnk6IFwi0JIg0L3QsNGB0YLQvtGP0YnQtdC1INCy0YDQtdC80Y8g0LLQvtC30L3QuNC60LvQuCDRgtC10YXQvdC40YfQtdGB0LrQuNC1INGC0YDRg9C00L3QvtGB0YLQuCDRgSDQv9C+0LvRg9GH0LXQvdC40LXQvCDRgdCy0LXQttC40YUg0L3QvtCy0L7RgdGC0LXQuSDQuNC3INC90LDQtNC10LbQvdGL0YUg0LjRgdGC0L7Rh9C90LjQutC+0LIuXCIsXG4gICAgICBmdWxsQ29udGVudDogXCLQnNGLINGA0LDQsdC+0YLQsNC10Lwg0L3QsNC0INCy0L7RgdGB0YLQsNC90L7QstC70LXQvdC40LXQvCDQv9C+0LTQutC70Y7Rh9C10L3QuNGPINC6INC/0YDQvtCy0LXRgNC10L3QvdGL0Lwg0L3QvtCy0L7RgdGC0L3Ri9C8INCw0LPQtdC90YLRgdGC0LLQsNC8LCDRh9GC0L7QsdGLINC/0YDQtdC00L7RgdGC0LDQstC40YLRjCDQstCw0Lwg0YHQsNC80YvQtSDQsNC60YLRg9Cw0LvRjNC90YvQtSDQuCDQtNC+0YHRgtC+0LLQtdGA0L3Ri9C1INC90L7QstC+0YHRgtC4LiDQn9C+0LbQsNC70YPQudGB0YLQsCwg0L7QsdC90L7QstC40YLQtSDRgdGC0YDQsNC90LjRhtGDINGH0LXRgNC10Lcg0L3QtdGB0LrQvtC70YzQutC+INC80LjQvdGD0YIuXCIsXG4gICAgICBpbXBvcnRhbmNlOiBcIkJyZWFraW5nXCIsXG4gICAgICBzb3VyY2U6IFwiTmV3cyBTeXN0ZW1cIixcbiAgICAgIGNhdGVnb3J5OiBcItCT0LvQsNCy0L3Ri9C1XCIsXG4gICAgICBwdWJsaXNoZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfVxuICBdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIC8vIFNldCBDT1JTIGhlYWRlcnNcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQnKTtcbiAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdDb250ZW50LVR5cGUnKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgcGFnZSA9IDEsIGxpbWl0ID0gMzAgfSA9IHJlcS5xdWVyeTtcbiAgICBsZXQgYWxsQXJ0aWNsZXM7XG4gICAgbGV0IGNhY2hlU3RhdHVzO1xuICAgIFxuICAgIC8vIFN0YXJ0IGJhY2tncm91bmQgZ2VuZXJhdGlvbiBvbiBmaXJzdCByZXF1ZXN0XG4gICAgc3RhcnRCYWNrZ3JvdW5kR2VuZXJhdGlvbigpO1xuICAgIFxuICAgIC8vIFNlcnZlIGZyb20gY2FjaGUgaWYgZnJlc2ggZW5vdWdoICh3aXRoaW4gMzAgbWludXRlcylcbiAgICBpZiAoY2FjaGVFeGlzdHMoKSAmJiBpc0NhY2hlRnJlc2hGb3JTZXJ2aW5nKCkpIHtcbiAgICAgIGFsbEFydGljbGVzID0gbG9hZENhY2hlZE5ld3MoKTtcbiAgICAgIFxuICAgICAgaWYgKGFsbEFydGljbGVzICYmIGFsbEFydGljbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FjaGVTdGF0dXMgPSAnaW5zdGFudCc7XG4gICAgICAgIGNvbnNvbGUubG9nKCfimqEgU2VydmluZyBjYWNoZWQgbmV3cyBpbnN0YW50bHknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENhY2hlIGV4aXN0cyBidXQgaXMgY29ycnVwdGVkL2ludmFsaWQgLSBnZW5lcmF0ZSBmcmVzaFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBDYWNoZSBjb3JydXB0ZWQsIGZldGNoaW5nIGZyZXNoIHJlYWwgbmV3cy4uLicpO1xuICAgICAgICBhbGxBcnRpY2xlcyA9IGF3YWl0IGZldGNoUmVhbE5ld3MoKTtcbiAgICAgICAgc2F2ZVRvQ2FjaGUoYWxsQXJ0aWNsZXMpO1xuICAgICAgICBjYWNoZVN0YXR1cyA9ICdyZWNvdmVyZWQnO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2FjaGVFeGlzdHMoKSkge1xuICAgICAgLy8gQ2FjaGUgZXhpc3RzIGJ1dCBpcyBvbGRlciB0aGFuIDMwIG1pbnV0ZXMgLSBzZXJ2ZSBvbGQgY2FjaGUgd2hpbGUgYmFja2dyb3VuZCB1cGRhdGVzXG4gICAgICBhbGxBcnRpY2xlcyA9IGxvYWRDYWNoZWROZXdzKCk7XG4gICAgICBpZiAoYWxsQXJ0aWNsZXMgJiYgYWxsQXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVN0YXR1cyA9ICdzdGFsZV9zZXJ2ZWQnOyBcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk7AgU2VydmluZyBzdGFsZSBjYWNoZSB3aGlsZSBiYWNrZ3JvdW5kIHVwZGF0ZXMnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGZyZXNoIGZldGNoIGlmIGNhY2hlIGlzIGNvcnJ1cHRlZFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBDYWNoZSBjb3JydXB0ZWQsIGZldGNoaW5nIGZyZXNoIHJlYWwgbmV3cy4uLicpO1xuICAgICAgICBhbGxBcnRpY2xlcyA9IGF3YWl0IGZldGNoUmVhbE5ld3MoKTtcbiAgICAgICAgc2F2ZVRvQ2FjaGUoYWxsQXJ0aWNsZXMpO1xuICAgICAgICBjYWNoZVN0YXR1cyA9ICdyZWNvdmVyZWQnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPbmx5IGdlbmVyYXRlIHN5bmNocm9ub3VzbHkgaWYgbm8gY2FjaGUgZXhpc3RzIGF0IGFsbCAoZmlyc3QgdGltZSlcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIE5vIGNhY2hlIGZvdW5kLCBmZXRjaGluZyBpbml0aWFsIHJlYWwgbmV3cy4uLicpO1xuICAgICAgYWxsQXJ0aWNsZXMgPSBhd2FpdCBmZXRjaFJlYWxOZXdzKCk7XG4gICAgICBzYXZlVG9DYWNoZShhbGxBcnRpY2xlcyk7XG4gICAgICBjYWNoZVN0YXR1cyA9ICdpbml0aWFsJztcbiAgICB9XG4gICAgXG4gICAgLy8gSGFuZGxlIHBhZ2luYXRpb25cbiAgICBjb25zdCBwYWdlTnVtYmVyID0gcGFyc2VJbnQocGFnZSk7XG4gICAgY29uc3QgbGltaXROdW1iZXIgPSBwYXJzZUludChsaW1pdCk7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IChwYWdlTnVtYmVyIC0gMSkgKiBsaW1pdE51bWJlcjtcbiAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0SW5kZXggKyBsaW1pdE51bWJlcjtcbiAgICBcbiAgICBjb25zdCBwYWdpbmF0ZWRBcnRpY2xlcyA9IGFsbEFydGljbGVzLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICBcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICBhcnRpY2xlczogcGFnaW5hdGVkQXJ0aWNsZXMsXG4gICAgICB0b3RhbDogYWxsQXJ0aWNsZXMubGVuZ3RoLFxuICAgICAgcGFnZTogcGFnZU51bWJlcixcbiAgICAgIGhhc01vcmU6IGVuZEluZGV4IDwgYWxsQXJ0aWNsZXMubGVuZ3RoLFxuICAgICAgdHlwZTogJ3JlYWxfbmV3c193aXRoX2NhY2hlJyxcbiAgICAgIGNhY2hlU3RhdHVzOiBjYWNoZVN0YXR1cyxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBlcnJvcjogJ0ZhaWxlZCB0byBsb2FkIG5ld3MnLFxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSBcbiAgICB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJPcGVuQUkiLCJORVdTQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJORVdTQVBJX0JBU0VfVVJMIiwiR05FV1NfQVBJX0tFWSIsIkdORVdTX0JBU0VfVVJMIiwib3BlbmFpIiwiYXBpS2V5IiwiT1BFTkFJX0FQSV9LRVkiLCJGRVRDSF9JTlRFUlZBTCIsIkNBQ0hFX0RVUkFUSU9OIiwiQ0FDSEVfRklMRSIsImpvaW4iLCJjd2QiLCJiYWNrZ3JvdW5kSW50ZXJ2YWwiLCJpc0dlbmVyYXRpbmciLCJjYWNoZUV4aXN0cyIsImV4aXN0c1N5bmMiLCJlcnJvciIsImNvbnNvbGUiLCJjYWNoZU5lZWRzUmVmcmVzaCIsImNhY2hlRGF0YSIsIkpTT04iLCJwYXJzZSIsInJlYWRGaWxlU3luYyIsIm5vdyIsIkRhdGUiLCJjYWNoZUFnZSIsInRpbWVzdGFtcCIsImlzQ2FjaGVGcmVzaEZvclNlcnZpbmciLCJsb2FkQ2FjaGVkTmV3cyIsImFydGljbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJsb2ciLCJ1bmxpbmtTeW5jIiwiZGVsZXRlRXJyb3IiLCJzYXZlVG9DYWNoZSIsImdlbmVyYXRlZEF0IiwidG9JU09TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kIiwiZmV0Y2hSZWFsTmV3cyIsInN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24iLCJzZXRJbnRlcnZhbCIsImZldGNoR05ld3NBcnRpY2xlcyIsInF1ZXJpZXMiLCJhbGxBcnRpY2xlcyIsImkiLCJxdWVyeSIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIndhcm4iLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInZhbGlkQXJ0aWNsZXMiLCJmaWx0ZXIiLCJhcnRpY2xlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInB1c2giLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaEVycm9yIiwibWVzc2FnZSIsImZldGNoTmV3c0FQSUFydGljbGVzIiwic291cmNlcyIsImdOZXdzQXJ0aWNsZXMiLCJuZXdzQVBJQXJ0aWNsZXMiLCJhbGwiLCJub3JtYWxpemVkQXJ0aWNsZXMiLCJtYXAiLCJzb3VyY2UiLCJjb250ZW50IiwidXJsVG9JbWFnZSIsImltYWdlIiwicHVibGlzaGVkQXQiLCJuYW1lIiwidW5pcXVlQXJ0aWNsZXMiLCJpbmRleCIsInNlbGYiLCJmaW5kSW5kZXgiLCJhIiwic29ydCIsImIiLCJwcm9jZXNzZWRBcnRpY2xlcyIsInNsaWNlIiwiY2F0ZWdvcnkiLCJjYXRlZ29yaXplUmVhbE5ld3MiLCJpbXBvcnRhbmNlIiwiZ2V0SW1wb3J0YW5jZUxldmVsIiwiaWQiLCJyYW5rIiwic3VtbWFyeSIsImZ1bGxDb250ZW50IiwidHJhbnNsYXRlZEFydGljbGVzIiwidHJhbnNsYXRlQXJ0aWNsZXNUb1J1c3NpYW4iLCJnZXRGYWxsYmFja05ld3MiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiYmF0Y2hTaXplIiwiYmF0Y2giLCJiYXRjaFByb21wdHMiLCJwcm9tcHQiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsInJlc3BvbnNlX2Zvcm1hdCIsInR5cGUiLCJ0ZW1wZXJhdHVyZSIsInRyYW5zbGF0ZWRCYXRjaCIsImNob2ljZXMiLCJmb3JFYWNoIiwidHJhbnNsYXRlZEFycmF5IiwiT2JqZWN0IiwidmFsdWVzIiwidHJhbnNsYXRlZCIsImJhdGNoRXJyb3IiLCJNYXRoIiwiZmxvb3IiLCJyZWxpYWJsZVNvdXJjZXMiLCJzb3VyY2VOYW1lIiwiaXNSZWxpYWJsZVNvdXJjZSIsInNvbWUiLCJpc1JlY2VudCIsImhpZ2hseUNyZWRpYmxlIiwiaXNIaWdobHlDcmVkaWJsZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJwYWdlIiwibGltaXQiLCJjYWNoZVN0YXR1cyIsInBhZ2VOdW1iZXIiLCJwYXJzZUludCIsImxpbWl0TnVtYmVyIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwicGFnaW5hdGVkQXJ0aWNsZXMiLCJ0b3RhbCIsImhhc01vcmUiLCJ1cGRhdGVkQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/english-news.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();