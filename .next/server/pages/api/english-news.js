"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/english-news";
exports.ids = ["pages/api/english-news"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/english-news.js */ \"(api)/./pages/api/english-news.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/english-news\",\n        pathname: \"/api/english-news\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_english_news_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmVuZ2xpc2gtbmV3cyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZW5nbGlzaC1uZXdzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3dEO0FBQ3hEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXItbmV3cy8/ZGMwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2VuZ2xpc2gtbmV3cy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2VuZ2xpc2gtbmV3c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/english-news.js":
/*!***********************************!*\
  !*** ./pages/api/english-news.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// NewsAPI configuration\nconst NEWSAPI_KEY = process.env.NEWSAPI_KEY;\nconst NEWSAPI_BASE_URL = \"https://newsapi.org/v2\";\n// Cache configuration\nconst CACHE_DURATION = 15 * 60 * 1000; // 15 minutes in milliseconds\nconst CACHE_FILE = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"news-cache.json\");\n// Background generation state\nlet backgroundInterval = null;\nlet isGenerating = false;\n// Check if cache exists (we'll always serve from cache if it exists)\nfunction cacheExists() {\n    try {\n        return fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE);\n    } catch (error) {\n        console.error(\"❌ Error checking cache:\", error);\n        return false;\n    }\n}\n// Check if cache needs refresh (for background generation)\nfunction cacheNeedsRefresh() {\n    try {\n        if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n            return true;\n        }\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        const now = Date.now();\n        const cacheAge = now - cacheData.timestamp;\n        return cacheAge >= CACHE_DURATION;\n    } catch (error) {\n        console.error(\"❌ Error reading cache for refresh check:\", error);\n        return true;\n    }\n}\n// Load cached news with self-recovery\nfunction loadCachedNews() {\n    try {\n        const cacheData = JSON.parse(fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(CACHE_FILE, \"utf8\"));\n        // Validate cache structure\n        if (!cacheData.articles || !Array.isArray(cacheData.articles) || cacheData.articles.length === 0) {\n            throw new Error(\"Invalid cache structure or empty articles\");\n        }\n        console.log(`✅ Loaded ${cacheData.articles.length} cached articles`);\n        return cacheData.articles;\n    } catch (error) {\n        console.error(\"❌ Error loading cached news:\", error);\n        // Self-recovery: delete corrupt cache file\n        try {\n            if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(CACHE_FILE)) {\n                fs__WEBPACK_IMPORTED_MODULE_0___default().unlinkSync(CACHE_FILE);\n                console.log(\"\\uD83D\\uDDD1️ Deleted corrupt cache file for self-recovery\");\n            }\n        } catch (deleteError) {\n            console.error(\"❌ Failed to delete corrupt cache:\", deleteError);\n        }\n        return null;\n    }\n}\n// Save news to cache\nfunction saveToCache(articles) {\n    try {\n        const cacheData = {\n            articles: articles,\n            timestamp: Date.now(),\n            generatedAt: new Date().toISOString()\n        };\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(CACHE_FILE, JSON.stringify(cacheData, null, 2));\n        console.log(`💾 Saved ${articles.length} articles to cache`);\n    } catch (error) {\n        console.error(\"❌ Error saving to cache:\", error);\n    }\n}\n// Background news generation\nasync function generateNewsInBackground() {\n    if (isGenerating) {\n        console.log(\"\\uD83D\\uDD04 News generation already in progress, skipping...\");\n        return;\n    }\n    if (!cacheNeedsRefresh()) {\n        console.log(\"\\uD83D\\uDCC1 Cache still fresh, skipping background generation\");\n        return;\n    }\n    isGenerating = true;\n    console.log(\"\\uD83D\\uDD04 Background: Generating fresh news...\");\n    try {\n        const articles = await fetchRealNews();\n        saveToCache(articles);\n        console.log(\"✅ Background: News updated successfully\");\n    } catch (error) {\n        console.error(\"❌ Background generation failed:\", error);\n    } finally{\n        isGenerating = false;\n    }\n}\n// Start background news generation\nfunction startBackgroundGeneration() {\n    if (backgroundInterval) {\n        return; // Already running\n    }\n    console.log(\"\\uD83D\\uDE80 Starting background news generation (every 15 minutes)\");\n    // Generate immediately if cache needs refresh\n    if (cacheNeedsRefresh()) {\n        generateNewsInBackground();\n    }\n    // Set interval for ongoing generation\n    backgroundInterval = setInterval(generateNewsInBackground, CACHE_DURATION);\n}\n// Fetch real news using NewsAPI\nasync function fetchRealNews() {\n    try {\n        console.log(\"\\uD83D\\uDE80 Fetching real factual news from verified sources...\");\n        if (!NEWSAPI_KEY) {\n            throw new Error(\"NewsAPI key not found\");\n        }\n        // Focus on Ukraine-Russia conflict and political news from reliable sources\n        // Enhanced query targeting for more interesting and relevant content\n        const queries = [\n            \"Ukraine Russia conflict latest developments\",\n            \"Trump foreign policy Ukraine Russia\",\n            \"peace negotiations Ukraine ceasefire\",\n            \"humanitarian crisis Ukraine refugees\",\n            \"diplomatic efforts Russia sanctions\",\n            \"NATO Ukraine military aid\",\n            \"Zelensky Putin negotiations\"\n        ];\n        // Verified fact-based sources with high credibility ratings\n        const sources = \"reuters,associated-press,bbc-news,the-guardian,al-jazeera-english,cnn,abc-news,npr,bloomberg,financial-times\";\n        const allArticles = [];\n        // Fetch news for each query to get comprehensive coverage\n        // Enhanced error handling and rate limiting consideration\n        for(let i = 0; i < queries.length; i++){\n            const query = queries[i];\n            const url = `${NEWSAPI_BASE_URL}/everything?q=${encodeURIComponent(query)}&sources=${sources}&language=en&sortBy=publishedAt&pageSize=15&apiKey=${NEWSAPI_KEY}`;\n            try {\n                const response = await fetch(url);\n                if (!response.ok) {\n                    console.warn(`NewsAPI query ${i + 1} failed with status ${response.status}`);\n                    continue; // Continue with other queries if one fails\n                }\n                const data = await response.json();\n                if (data.articles && data.articles.length > 0) {\n                    // Filter out articles without meaningful content\n                    const validArticles = data.articles.filter((article)=>article.title && article.description && article.title !== \"[Removed]\" && article.description !== \"[Removed]\");\n                    allArticles.push(...validArticles);\n                }\n                // Small delay to respect rate limits\n                if (i < queries.length - 1) {\n                    await new Promise((resolve)=>setTimeout(resolve, 100));\n                }\n            } catch (fetchError) {\n                console.warn(`NewsAPI query ${i + 1} failed:`, fetchError.message);\n                continue;\n            }\n        }\n        if (allArticles.length === 0) {\n            throw new Error(\"No articles found from NewsAPI\");\n        }\n        // Remove duplicates and sort by publication date\n        const uniqueArticles = allArticles.filter((article, index, self)=>index === self.findIndex((a)=>a.title === article.title)).sort((a, b)=>new Date(b.publishedAt) - new Date(a.publishedAt));\n        // Transform to our format and take top 30\n        const processedArticles = uniqueArticles.slice(0, 30).map((article, index)=>{\n            const category = categorizeRealNews(article);\n            const importance = getImportanceLevel(article, index);\n            return {\n                id: Date.now() + index,\n                rank: index + 1,\n                title: article.title,\n                summary: article.description || \"No description available\",\n                fullContent: article.content || article.description || \"Full content not available\",\n                importance: importance,\n                source: article.source.name,\n                category: category,\n                publishedAt: article.publishedAt,\n                url: article.url,\n                urlToImage: article.urlToImage\n            };\n        });\n        console.log(`✅ Processed ${processedArticles.length} real news articles from verified sources`);\n        return processedArticles;\n    } catch (error) {\n        console.error(\"❌ Error fetching real news:\", error);\n        return getFallbackNews();\n    }\n}\n// Categorize real news articles\nfunction categorizeRealNews(article) {\n    const title = article.title.toLowerCase();\n    const description = (article.description || \"\").toLowerCase();\n    const content = `${title} ${description}`;\n    // Ukraine-Russia conflict keywords\n    if (content.includes(\"ukraine\") || content.includes(\"russia\") || content.includes(\"putin\") || content.includes(\"kyiv\") || content.includes(\"moscow\") || content.includes(\"war\") || content.includes(\"conflict\") || content.includes(\"sanctions\") || content.includes(\"zelensky\")) {\n        return \"Украина-Россия\";\n    }\n    // Trump politics keywords\n    if (content.includes(\"trump\") || content.includes(\"donald\") || content.includes(\"election\") || content.includes(\"campaign\") || content.includes(\"republican\") || content.includes(\"foreign policy\")) {\n        return \"Политика Трампа\";\n    }\n    // Peace and humanitarian keywords\n    if (content.includes(\"peace\") || content.includes(\"ceasefire\") || content.includes(\"humanitarian\") || content.includes(\"refugee\") || content.includes(\"civilian\") || content.includes(\"aid\") || content.includes(\"diplomatic\") || content.includes(\"negotiations\")) {\n        return \"Мирные усилия\";\n    }\n    // Anti-war movement keywords\n    if (content.includes(\"protest\") || content.includes(\"anti-war\") || content.includes(\"activism\") || content.includes(\"movement\") || content.includes(\"demonstration\") || content.includes(\"peace march\")) {\n        return \"Антивоенное движение\";\n    }\n    // Humanitarian focus\n    if (content.includes(\"humanitarian\") || content.includes(\"victims\") || content.includes(\"casualties\") || content.includes(\"displaced\") || content.includes(\"crisis\") || content.includes(\"suffering\")) {\n        return \"Гуманитарные\";\n    }\n    return \"Главные\";\n}\n// Determine importance level based on source credibility and recency\nfunction getImportanceLevel(article, index) {\n    const reliableSources = [\n        \"reuters\",\n        \"associated press\",\n        \"bbc\",\n        \"guardian\",\n        \"al jazeera\",\n        \"npr\",\n        \"cnn\",\n        \"abc news\",\n        \"bloomberg\",\n        \"financial times\"\n    ];\n    const sourceName = article.source.name.toLowerCase();\n    const isReliableSource = reliableSources.some((source)=>sourceName.includes(source));\n    const isRecent = new Date() - new Date(article.publishedAt) < 6 * 60 * 60 * 1000; // 6 hours\n    // Enhanced fact-checking: prefer highly credible sources\n    const highlyCredible = [\n        \"reuters\",\n        \"associated press\",\n        \"bbc\"\n    ];\n    const isHighlyCredible = highlyCredible.some((source)=>sourceName.includes(source));\n    if (index < 3 && isHighlyCredible && isRecent) return \"Breaking\";\n    if (index < 5 && isReliableSource && isRecent) return \"Critical\";\n    if (index < 10 && isReliableSource) return \"Urgent\";\n    return \"Developing\";\n}\n// Fallback news data in case of API failure\nfunction getFallbackNews() {\n    return [\n        {\n            id: Date.now(),\n            rank: 1,\n            title: \"СРОЧНО: Проблемы с подключением к новостным источникам\",\n            summary: \"В настоящее время возникли технические трудности с получением свежих новостей из надежных источников.\",\n            fullContent: \"Мы работаем над восстановлением подключения к проверенным новостным агентствам, чтобы предоставить вам самые актуальные и достоверные новости. Пожалуйста, обновите страницу через несколько минут.\",\n            importance: \"Breaking\",\n            source: \"News System\",\n            category: \"Главные\",\n            publishedAt: new Date().toISOString()\n        }\n    ];\n}\nasync function handler(req, res) {\n    // Set CORS headers\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    try {\n        const { page = 1, limit = 30 } = req.query;\n        let allArticles;\n        let cacheStatus;\n        // Start background generation on first request\n        startBackgroundGeneration();\n        // Always try to serve from cache first\n        if (cacheExists()) {\n            allArticles = loadCachedNews();\n            if (allArticles && allArticles.length > 0) {\n                cacheStatus = \"instant\";\n                console.log(\"⚡ Serving cached news instantly\");\n            } else {\n                // Cache exists but is corrupted/invalid - generate fresh\n                console.log(\"\\uD83D\\uDD04 Cache corrupted, fetching fresh real news...\");\n                allArticles = await fetchRealNews();\n                saveToCache(allArticles);\n                cacheStatus = \"recovered\";\n            }\n        } else {\n            // Only generate synchronously if no cache exists at all (first time)\n            console.log(\"\\uD83D\\uDD04 No cache found, fetching initial real news...\");\n            allArticles = await fetchRealNews();\n            saveToCache(allArticles);\n            cacheStatus = \"initial\";\n        }\n        // Handle pagination\n        const pageNumber = parseInt(page);\n        const limitNumber = parseInt(limit);\n        const startIndex = (pageNumber - 1) * limitNumber;\n        const endIndex = startIndex + limitNumber;\n        const paginatedArticles = allArticles.slice(startIndex, endIndex);\n        res.status(200).json({\n            articles: paginatedArticles,\n            total: allArticles.length,\n            page: pageNumber,\n            hasMore: endIndex < allArticles.length,\n            type: \"real_news_with_cache\",\n            cacheStatus: cacheStatus,\n            updatedAt: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        res.status(500).json({\n            error: \"Failed to load news\",\n            message: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q25CMUMsT0FBTztZQUNQcUQsU0FBU3JELE1BQU1xRCxPQUFPO1FBQ3hCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyLW5ld3MvLi9wYWdlcy9hcGkvZW5nbGlzaC1uZXdzLmpzPzAzZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuLy8gTmV3c0FQSSBjb25maWd1cmF0aW9uXG5jb25zdCBORVdTQVBJX0tFWSA9IHByb2Nlc3MuZW52Lk5FV1NBUElfS0VZO1xuY29uc3QgTkVXU0FQSV9CQVNFX1VSTCA9ICdodHRwczovL25ld3NhcGkub3JnL3YyJztcblxuLy8gQ2FjaGUgY29uZmlndXJhdGlvblxuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAxNSAqIDYwICogMTAwMDsgLy8gMTUgbWludXRlcyBpbiBtaWxsaXNlY29uZHNcbmNvbnN0IENBQ0hFX0ZJTEUgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ25ld3MtY2FjaGUuanNvbicpO1xuXG4vLyBCYWNrZ3JvdW5kIGdlbmVyYXRpb24gc3RhdGVcbmxldCBiYWNrZ3JvdW5kSW50ZXJ2YWwgPSBudWxsO1xubGV0IGlzR2VuZXJhdGluZyA9IGZhbHNlO1xuXG4vLyBDaGVjayBpZiBjYWNoZSBleGlzdHMgKHdlJ2xsIGFsd2F5cyBzZXJ2ZSBmcm9tIGNhY2hlIGlmIGl0IGV4aXN0cylcbmZ1bmN0aW9uIGNhY2hlRXhpc3RzKCkge1xuICB0cnkge1xuICAgIHJldHVybiBmcy5leGlzdHNTeW5jKENBQ0hFX0ZJTEUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjaGVja2luZyBjYWNoZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIENoZWNrIGlmIGNhY2hlIG5lZWRzIHJlZnJlc2ggKGZvciBiYWNrZ3JvdW5kIGdlbmVyYXRpb24pXG5mdW5jdGlvbiBjYWNoZU5lZWRzUmVmcmVzaCgpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoQ0FDSEVfRklMRSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBjYWNoZURhdGEgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhDQUNIRV9GSUxFLCAndXRmOCcpKTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGNhY2hlQWdlID0gbm93IC0gY2FjaGVEYXRhLnRpbWVzdGFtcDtcbiAgICBcbiAgICByZXR1cm4gY2FjaGVBZ2UgPj0gQ0FDSEVfRFVSQVRJT047XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHJlYWRpbmcgY2FjaGUgZm9yIHJlZnJlc2ggY2hlY2s6JywgZXJyb3IpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8vIExvYWQgY2FjaGVkIG5ld3Mgd2l0aCBzZWxmLXJlY292ZXJ5XG5mdW5jdGlvbiBsb2FkQ2FjaGVkTmV3cygpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjYWNoZURhdGEgPSBKU09OLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhDQUNIRV9GSUxFLCAndXRmOCcpKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBjYWNoZSBzdHJ1Y3R1cmVcbiAgICBpZiAoIWNhY2hlRGF0YS5hcnRpY2xlcyB8fCAhQXJyYXkuaXNBcnJheShjYWNoZURhdGEuYXJ0aWNsZXMpIHx8IGNhY2hlRGF0YS5hcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjYWNoZSBzdHJ1Y3R1cmUgb3IgZW1wdHkgYXJ0aWNsZXMnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYOKchSBMb2FkZWQgJHtjYWNoZURhdGEuYXJ0aWNsZXMubGVuZ3RofSBjYWNoZWQgYXJ0aWNsZXNgKTtcbiAgICByZXR1cm4gY2FjaGVEYXRhLmFydGljbGVzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBsb2FkaW5nIGNhY2hlZCBuZXdzOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBTZWxmLXJlY292ZXJ5OiBkZWxldGUgY29ycnVwdCBjYWNoZSBmaWxlXG4gICAgdHJ5IHtcbiAgICAgIGlmIChmcy5leGlzdHNTeW5jKENBQ0hFX0ZJTEUpKSB7XG4gICAgICAgIGZzLnVubGlua1N5bmMoQ0FDSEVfRklMRSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5eR77iPIERlbGV0ZWQgY29ycnVwdCBjYWNoZSBmaWxlIGZvciBzZWxmLXJlY292ZXJ5Jyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZGVsZXRlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZGVsZXRlIGNvcnJ1cHQgY2FjaGU6JywgZGVsZXRlRXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vLyBTYXZlIG5ld3MgdG8gY2FjaGVcbmZ1bmN0aW9uIHNhdmVUb0NhY2hlKGFydGljbGVzKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2FjaGVEYXRhID0ge1xuICAgICAgYXJ0aWNsZXM6IGFydGljbGVzLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH07XG4gICAgZnMud3JpdGVGaWxlU3luYyhDQUNIRV9GSUxFLCBKU09OLnN0cmluZ2lmeShjYWNoZURhdGEsIG51bGwsIDIpKTtcbiAgICBjb25zb2xlLmxvZyhg8J+SviBTYXZlZCAke2FydGljbGVzLmxlbmd0aH0gYXJ0aWNsZXMgdG8gY2FjaGVgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igc2F2aW5nIHRvIGNhY2hlOicsIGVycm9yKTtcbiAgfVxufVxuXG4vLyBCYWNrZ3JvdW5kIG5ld3MgZ2VuZXJhdGlvblxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kKCkge1xuICBpZiAoaXNHZW5lcmF0aW5nKSB7XG4gICAgY29uc29sZS5sb2coJ/CflIQgTmV3cyBnZW5lcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHNraXBwaW5nLi4uJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFjYWNoZU5lZWRzUmVmcmVzaCgpKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk4EgQ2FjaGUgc3RpbGwgZnJlc2gsIHNraXBwaW5nIGJhY2tncm91bmQgZ2VuZXJhdGlvbicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlzR2VuZXJhdGluZyA9IHRydWU7XG4gIGNvbnNvbGUubG9nKCfwn5SEIEJhY2tncm91bmQ6IEdlbmVyYXRpbmcgZnJlc2ggbmV3cy4uLicpO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBhcnRpY2xlcyA9IGF3YWl0IGZldGNoUmVhbE5ld3MoKTtcbiAgICBzYXZlVG9DYWNoZShhcnRpY2xlcyk7XG4gICAgY29uc29sZS5sb2coJ+KchSBCYWNrZ3JvdW5kOiBOZXdzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEJhY2tncm91bmQgZ2VuZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICB9IGZpbmFsbHkge1xuICAgIGlzR2VuZXJhdGluZyA9IGZhbHNlO1xuICB9XG59XG5cbi8vIFN0YXJ0IGJhY2tncm91bmQgbmV3cyBnZW5lcmF0aW9uXG5mdW5jdGlvbiBzdGFydEJhY2tncm91bmRHZW5lcmF0aW9uKCkge1xuICBpZiAoYmFja2dyb3VuZEludGVydmFsKSB7XG4gICAgcmV0dXJuOyAvLyBBbHJlYWR5IHJ1bm5pbmdcbiAgfVxuICBcbiAgY29uc29sZS5sb2coJ/CfmoAgU3RhcnRpbmcgYmFja2dyb3VuZCBuZXdzIGdlbmVyYXRpb24gKGV2ZXJ5IDE1IG1pbnV0ZXMpJyk7XG4gIFxuICAvLyBHZW5lcmF0ZSBpbW1lZGlhdGVseSBpZiBjYWNoZSBuZWVkcyByZWZyZXNoXG4gIGlmIChjYWNoZU5lZWRzUmVmcmVzaCgpKSB7XG4gICAgZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kKCk7XG4gIH1cbiAgXG4gIC8vIFNldCBpbnRlcnZhbCBmb3Igb25nb2luZyBnZW5lcmF0aW9uXG4gIGJhY2tncm91bmRJbnRlcnZhbCA9IHNldEludGVydmFsKGdlbmVyYXRlTmV3c0luQmFja2dyb3VuZCwgQ0FDSEVfRFVSQVRJT04pO1xufVxuXG4vLyBGZXRjaCByZWFsIG5ld3MgdXNpbmcgTmV3c0FQSVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZWFsTmV3cygpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygn8J+agCBGZXRjaGluZyByZWFsIGZhY3R1YWwgbmV3cyBmcm9tIHZlcmlmaWVkIHNvdXJjZXMuLi4nKTtcbiAgICBcbiAgICBpZiAoIU5FV1NBUElfS0VZKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05ld3NBUEkga2V5IG5vdCBmb3VuZCcpO1xuICAgIH1cblxuICAgIC8vIEZvY3VzIG9uIFVrcmFpbmUtUnVzc2lhIGNvbmZsaWN0IGFuZCBwb2xpdGljYWwgbmV3cyBmcm9tIHJlbGlhYmxlIHNvdXJjZXNcbiAgICAvLyBFbmhhbmNlZCBxdWVyeSB0YXJnZXRpbmcgZm9yIG1vcmUgaW50ZXJlc3RpbmcgYW5kIHJlbGV2YW50IGNvbnRlbnRcbiAgICBjb25zdCBxdWVyaWVzID0gW1xuICAgICAgJ1VrcmFpbmUgUnVzc2lhIGNvbmZsaWN0IGxhdGVzdCBkZXZlbG9wbWVudHMnLFxuICAgICAgJ1RydW1wIGZvcmVpZ24gcG9saWN5IFVrcmFpbmUgUnVzc2lhJyxcbiAgICAgICdwZWFjZSBuZWdvdGlhdGlvbnMgVWtyYWluZSBjZWFzZWZpcmUnLFxuICAgICAgJ2h1bWFuaXRhcmlhbiBjcmlzaXMgVWtyYWluZSByZWZ1Z2VlcycsXG4gICAgICAnZGlwbG9tYXRpYyBlZmZvcnRzIFJ1c3NpYSBzYW5jdGlvbnMnLFxuICAgICAgJ05BVE8gVWtyYWluZSBtaWxpdGFyeSBhaWQnLFxuICAgICAgJ1plbGVuc2t5IFB1dGluIG5lZ290aWF0aW9ucydcbiAgICBdO1xuXG4gICAgLy8gVmVyaWZpZWQgZmFjdC1iYXNlZCBzb3VyY2VzIHdpdGggaGlnaCBjcmVkaWJpbGl0eSByYXRpbmdzXG4gICAgY29uc3Qgc291cmNlcyA9ICdyZXV0ZXJzLGFzc29jaWF0ZWQtcHJlc3MsYmJjLW5ld3MsdGhlLWd1YXJkaWFuLGFsLWphemVlcmEtZW5nbGlzaCxjbm4sYWJjLW5ld3MsbnByLGJsb29tYmVyZyxmaW5hbmNpYWwtdGltZXMnO1xuICAgIGNvbnN0IGFsbEFydGljbGVzID0gW107XG5cbiAgICAvLyBGZXRjaCBuZXdzIGZvciBlYWNoIHF1ZXJ5IHRvIGdldCBjb21wcmVoZW5zaXZlIGNvdmVyYWdlXG4gICAgLy8gRW5oYW5jZWQgZXJyb3IgaGFuZGxpbmcgYW5kIHJhdGUgbGltaXRpbmcgY29uc2lkZXJhdGlvblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXVlcnkgPSBxdWVyaWVzW2ldO1xuICAgICAgY29uc3QgdXJsID0gYCR7TkVXU0FQSV9CQVNFX1VSTH0vZXZlcnl0aGluZz9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX0mc291cmNlcz0ke3NvdXJjZXN9Jmxhbmd1YWdlPWVuJnNvcnRCeT1wdWJsaXNoZWRBdCZwYWdlU2l6ZT0xNSZhcGlLZXk9JHtORVdTQVBJX0tFWX1gO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYE5ld3NBUEkgcXVlcnkgJHtpICsgMX0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgICAgIGNvbnRpbnVlOyAvLyBDb250aW51ZSB3aXRoIG90aGVyIHF1ZXJpZXMgaWYgb25lIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGlmIChkYXRhLmFydGljbGVzICYmIGRhdGEuYXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIEZpbHRlciBvdXQgYXJ0aWNsZXMgd2l0aG91dCBtZWFuaW5nZnVsIGNvbnRlbnRcbiAgICAgICAgICBjb25zdCB2YWxpZEFydGljbGVzID0gZGF0YS5hcnRpY2xlcy5maWx0ZXIoYXJ0aWNsZSA9PiBcbiAgICAgICAgICAgIGFydGljbGUudGl0bGUgJiYgXG4gICAgICAgICAgICBhcnRpY2xlLmRlc2NyaXB0aW9uICYmIFxuICAgICAgICAgICAgYXJ0aWNsZS50aXRsZSAhPT0gJ1tSZW1vdmVkXScgJiYgXG4gICAgICAgICAgICBhcnRpY2xlLmRlc2NyaXB0aW9uICE9PSAnW1JlbW92ZWRdJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgYWxsQXJ0aWNsZXMucHVzaCguLi52YWxpZEFydGljbGVzKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU21hbGwgZGVsYXkgdG8gcmVzcGVjdCByYXRlIGxpbWl0c1xuICAgICAgICBpZiAoaSA8IHF1ZXJpZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oYE5ld3NBUEkgcXVlcnkgJHtpICsgMX0gZmFpbGVkOmAsIGZldGNoRXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbGxBcnRpY2xlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gYXJ0aWNsZXMgZm91bmQgZnJvbSBOZXdzQVBJJyk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYW5kIHNvcnQgYnkgcHVibGljYXRpb24gZGF0ZVxuICAgIGNvbnN0IHVuaXF1ZUFydGljbGVzID0gYWxsQXJ0aWNsZXMuZmlsdGVyKChhcnRpY2xlLCBpbmRleCwgc2VsZikgPT4gXG4gICAgICBpbmRleCA9PT0gc2VsZi5maW5kSW5kZXgoYSA9PiBhLnRpdGxlID09PSBhcnRpY2xlLnRpdGxlKVxuICAgICkuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5wdWJsaXNoZWRBdCkgLSBuZXcgRGF0ZShhLnB1Ymxpc2hlZEF0KSk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gdG8gb3VyIGZvcm1hdCBhbmQgdGFrZSB0b3AgMzBcbiAgICBjb25zdCBwcm9jZXNzZWRBcnRpY2xlcyA9IHVuaXF1ZUFydGljbGVzLnNsaWNlKDAsIDMwKS5tYXAoKGFydGljbGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3JpemVSZWFsTmV3cyhhcnRpY2xlKTtcbiAgICAgIGNvbnN0IGltcG9ydGFuY2UgPSBnZXRJbXBvcnRhbmNlTGV2ZWwoYXJ0aWNsZSwgaW5kZXgpO1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSArIGluZGV4LFxuICAgICAgICByYW5rOiBpbmRleCArIDEsXG4gICAgICAgIHRpdGxlOiBhcnRpY2xlLnRpdGxlLFxuICAgICAgICBzdW1tYXJ5OiBhcnRpY2xlLmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbiBhdmFpbGFibGUnLFxuICAgICAgICBmdWxsQ29udGVudDogYXJ0aWNsZS5jb250ZW50IHx8IGFydGljbGUuZGVzY3JpcHRpb24gfHwgJ0Z1bGwgY29udGVudCBub3QgYXZhaWxhYmxlJyxcbiAgICAgICAgaW1wb3J0YW5jZTogaW1wb3J0YW5jZSxcbiAgICAgICAgc291cmNlOiBhcnRpY2xlLnNvdXJjZS5uYW1lLFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICAgIHB1Ymxpc2hlZEF0OiBhcnRpY2xlLnB1Ymxpc2hlZEF0LFxuICAgICAgICB1cmw6IGFydGljbGUudXJsLFxuICAgICAgICB1cmxUb0ltYWdlOiBhcnRpY2xlLnVybFRvSW1hZ2VcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIFByb2Nlc3NlZCAke3Byb2Nlc3NlZEFydGljbGVzLmxlbmd0aH0gcmVhbCBuZXdzIGFydGljbGVzIGZyb20gdmVyaWZpZWQgc291cmNlc2ApO1xuICAgIHJldHVybiBwcm9jZXNzZWRBcnRpY2xlcztcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBmZXRjaGluZyByZWFsIG5ld3M6JywgZXJyb3IpO1xuICAgIHJldHVybiBnZXRGYWxsYmFja05ld3MoKTtcbiAgfVxufVxuXG4vLyBDYXRlZ29yaXplIHJlYWwgbmV3cyBhcnRpY2xlc1xuZnVuY3Rpb24gY2F0ZWdvcml6ZVJlYWxOZXdzKGFydGljbGUpIHtcbiAgY29uc3QgdGl0bGUgPSBhcnRpY2xlLnRpdGxlLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gKGFydGljbGUuZGVzY3JpcHRpb24gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGNvbnRlbnQgPSBgJHt0aXRsZX0gJHtkZXNjcmlwdGlvbn1gO1xuXG4gIC8vIFVrcmFpbmUtUnVzc2lhIGNvbmZsaWN0IGtleXdvcmRzXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCd1a3JhaW5lJykgfHwgY29udGVudC5pbmNsdWRlcygncnVzc2lhJykgfHwgY29udGVudC5pbmNsdWRlcygncHV0aW4nKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2t5aXYnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdtb3Njb3cnKSB8fCBjb250ZW50LmluY2x1ZGVzKCd3YXInKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ2NvbmZsaWN0JykgfHwgY29udGVudC5pbmNsdWRlcygnc2FuY3Rpb25zJykgfHwgY29udGVudC5pbmNsdWRlcygnemVsZW5za3knKSkge1xuICAgIHJldHVybiBcItCj0LrRgNCw0LjQvdCwLdCg0L7RgdGB0LjRj1wiO1xuICB9XG4gIFxuICAvLyBUcnVtcCBwb2xpdGljcyBrZXl3b3Jkc1xuICBpZiAoY29udGVudC5pbmNsdWRlcygndHJ1bXAnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdkb25hbGQnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdlbGVjdGlvbicpIHx8IFxuICAgICAgY29udGVudC5pbmNsdWRlcygnY2FtcGFpZ24nKSB8fCBjb250ZW50LmluY2x1ZGVzKCdyZXB1YmxpY2FuJykgfHwgY29udGVudC5pbmNsdWRlcygnZm9yZWlnbiBwb2xpY3knKSkge1xuICAgIHJldHVybiBcItCf0L7Qu9C40YLQuNC60LAg0KLRgNCw0LzQv9CwXCI7XG4gIH1cbiAgXG4gIC8vIFBlYWNlIGFuZCBodW1hbml0YXJpYW4ga2V5d29yZHNcbiAgaWYgKGNvbnRlbnQuaW5jbHVkZXMoJ3BlYWNlJykgfHwgY29udGVudC5pbmNsdWRlcygnY2Vhc2VmaXJlJykgfHwgY29udGVudC5pbmNsdWRlcygnaHVtYW5pdGFyaWFuJykgfHwgXG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdyZWZ1Z2VlJykgfHwgY29udGVudC5pbmNsdWRlcygnY2l2aWxpYW4nKSB8fCBjb250ZW50LmluY2x1ZGVzKCdhaWQnKSB8fFxuICAgICAgY29udGVudC5pbmNsdWRlcygnZGlwbG9tYXRpYycpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ25lZ290aWF0aW9ucycpKSB7XG4gICAgcmV0dXJuIFwi0JzQuNGA0L3Ri9C1INGD0YHQuNC70LjRj1wiO1xuICB9XG4gIFxuICAvLyBBbnRpLXdhciBtb3ZlbWVudCBrZXl3b3Jkc1xuICBpZiAoY29udGVudC5pbmNsdWRlcygncHJvdGVzdCcpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ2FudGktd2FyJykgfHwgY29udGVudC5pbmNsdWRlcygnYWN0aXZpc20nKSB8fCBcbiAgICAgIGNvbnRlbnQuaW5jbHVkZXMoJ21vdmVtZW50JykgfHwgY29udGVudC5pbmNsdWRlcygnZGVtb25zdHJhdGlvbicpIHx8IGNvbnRlbnQuaW5jbHVkZXMoJ3BlYWNlIG1hcmNoJykpIHtcbiAgICByZXR1cm4gXCLQkNC90YLQuNCy0L7QtdC90L3QvtC1INC00LLQuNC20LXQvdC40LVcIjtcbiAgfVxuICBcbiAgLy8gSHVtYW5pdGFyaWFuIGZvY3VzXG4gIGlmIChjb250ZW50LmluY2x1ZGVzKCdodW1hbml0YXJpYW4nKSB8fCBjb250ZW50LmluY2x1ZGVzKCd2aWN0aW1zJykgfHwgY29udGVudC5pbmNsdWRlcygnY2FzdWFsdGllcycpIHx8XG4gICAgICBjb250ZW50LmluY2x1ZGVzKCdkaXNwbGFjZWQnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdjcmlzaXMnKSB8fCBjb250ZW50LmluY2x1ZGVzKCdzdWZmZXJpbmcnKSkge1xuICAgIHJldHVybiBcItCT0YPQvNCw0L3QuNGC0LDRgNC90YvQtVwiO1xuICB9XG4gIFxuICByZXR1cm4gXCLQk9C70LDQstC90YvQtVwiO1xufVxuXG4vLyBEZXRlcm1pbmUgaW1wb3J0YW5jZSBsZXZlbCBiYXNlZCBvbiBzb3VyY2UgY3JlZGliaWxpdHkgYW5kIHJlY2VuY3lcbmZ1bmN0aW9uIGdldEltcG9ydGFuY2VMZXZlbChhcnRpY2xlLCBpbmRleCkge1xuICBjb25zdCByZWxpYWJsZVNvdXJjZXMgPSBbXG4gICAgJ3JldXRlcnMnLCAnYXNzb2NpYXRlZCBwcmVzcycsICdiYmMnLCAnZ3VhcmRpYW4nLCAnYWwgamF6ZWVyYScsXG4gICAgJ25wcicsICdjbm4nLCAnYWJjIG5ld3MnLCAnYmxvb21iZXJnJywgJ2ZpbmFuY2lhbCB0aW1lcydcbiAgXTtcbiAgY29uc3Qgc291cmNlTmFtZSA9IGFydGljbGUuc291cmNlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaXNSZWxpYWJsZVNvdXJjZSA9IHJlbGlhYmxlU291cmNlcy5zb21lKHNvdXJjZSA9PiBzb3VyY2VOYW1lLmluY2x1ZGVzKHNvdXJjZSkpO1xuICBjb25zdCBpc1JlY2VudCA9IG5ldyBEYXRlKCkgLSBuZXcgRGF0ZShhcnRpY2xlLnB1Ymxpc2hlZEF0KSA8IDYgKiA2MCAqIDYwICogMTAwMDsgLy8gNiBob3Vyc1xuICBcbiAgLy8gRW5oYW5jZWQgZmFjdC1jaGVja2luZzogcHJlZmVyIGhpZ2hseSBjcmVkaWJsZSBzb3VyY2VzXG4gIGNvbnN0IGhpZ2hseUNyZWRpYmxlID0gWydyZXV0ZXJzJywgJ2Fzc29jaWF0ZWQgcHJlc3MnLCAnYmJjJ107XG4gIGNvbnN0IGlzSGlnaGx5Q3JlZGlibGUgPSBoaWdobHlDcmVkaWJsZS5zb21lKHNvdXJjZSA9PiBzb3VyY2VOYW1lLmluY2x1ZGVzKHNvdXJjZSkpO1xuICBcbiAgaWYgKGluZGV4IDwgMyAmJiBpc0hpZ2hseUNyZWRpYmxlICYmIGlzUmVjZW50KSByZXR1cm4gJ0JyZWFraW5nJztcbiAgaWYgKGluZGV4IDwgNSAmJiBpc1JlbGlhYmxlU291cmNlICYmIGlzUmVjZW50KSByZXR1cm4gJ0NyaXRpY2FsJztcbiAgaWYgKGluZGV4IDwgMTAgJiYgaXNSZWxpYWJsZVNvdXJjZSkgcmV0dXJuICdVcmdlbnQnO1xuICByZXR1cm4gJ0RldmVsb3BpbmcnO1xufVxuXG4vLyBGYWxsYmFjayBuZXdzIGRhdGEgaW4gY2FzZSBvZiBBUEkgZmFpbHVyZVxuZnVuY3Rpb24gZ2V0RmFsbGJhY2tOZXdzKCkge1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgcmFuazogMSxcbiAgICAgIHRpdGxlOiBcItCh0KDQntCn0J3Qnjog0J/RgNC+0LHQu9C10LzRiyDRgSDQv9C+0LTQutC70Y7Rh9C10L3QuNC10Lwg0Log0L3QvtCy0L7RgdGC0L3Ri9C8INC40YHRgtC+0YfQvdC40LrQsNC8XCIsXG4gICAgICBzdW1tYXJ5OiBcItCSINC90LDRgdGC0L7Rj9GJ0LXQtSDQstGA0LXQvNGPINCy0L7Qt9C90LjQutC70Lgg0YLQtdGF0L3QuNGH0LXRgdC60LjQtSDRgtGA0YPQtNC90L7RgdGC0Lgg0YEg0L/QvtC70YPRh9C10L3QuNC10Lwg0YHQstC10LbQuNGFINC90L7QstC+0YHRgtC10Lkg0LjQtyDQvdCw0LTQtdC20L3Ri9GFINC40YHRgtC+0YfQvdC40LrQvtCyLlwiLFxuICAgICAgZnVsbENvbnRlbnQ6IFwi0JzRiyDRgNCw0LHQvtGC0LDQtdC8INC90LDQtCDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNC10Lwg0L/QvtC00LrQu9GO0YfQtdC90LjRjyDQuiDQv9GA0L7QstC10YDQtdC90L3Ri9C8INC90L7QstC+0YHRgtC90YvQvCDQsNCz0LXQvdGC0YHRgtCy0LDQvCwg0YfRgtC+0LHRiyDQv9GA0LXQtNC+0YHRgtCw0LLQuNGC0Ywg0LLQsNC8INGB0LDQvNGL0LUg0LDQutGC0YPQsNC70YzQvdGL0LUg0Lgg0LTQvtGB0YLQvtCy0LXRgNC90YvQtSDQvdC+0LLQvtGB0YLQuC4g0J/QvtC20LDQu9GD0LnRgdGC0LAsINC+0LHQvdC+0LLQuNGC0LUg0YHRgtGA0LDQvdC40YbRgyDRh9C10YDQtdC3INC90LXRgdC60L7Qu9GM0LrQviDQvNC40L3Rg9GCLlwiLFxuICAgICAgaW1wb3J0YW5jZTogXCJCcmVha2luZ1wiLFxuICAgICAgc291cmNlOiBcIk5ld3MgU3lzdGVtXCIsXG4gICAgICBjYXRlZ29yeTogXCLQk9C70LDQstC90YvQtVwiLFxuICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH1cbiAgXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBTZXQgQ09SUyBoZWFkZXJzXG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VUJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnQ29udGVudC1UeXBlJyk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHBhZ2UgPSAxLCBsaW1pdCA9IDMwIH0gPSByZXEucXVlcnk7XG4gICAgbGV0IGFsbEFydGljbGVzO1xuICAgIGxldCBjYWNoZVN0YXR1cztcbiAgICBcbiAgICAvLyBTdGFydCBiYWNrZ3JvdW5kIGdlbmVyYXRpb24gb24gZmlyc3QgcmVxdWVzdFxuICAgIHN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24oKTtcbiAgICBcbiAgICAvLyBBbHdheXMgdHJ5IHRvIHNlcnZlIGZyb20gY2FjaGUgZmlyc3RcbiAgICBpZiAoY2FjaGVFeGlzdHMoKSkge1xuICAgICAgYWxsQXJ0aWNsZXMgPSBsb2FkQ2FjaGVkTmV3cygpO1xuICAgICAgXG4gICAgICBpZiAoYWxsQXJ0aWNsZXMgJiYgYWxsQXJ0aWNsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWNoZVN0YXR1cyA9ICdpbnN0YW50JztcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoSBTZXJ2aW5nIGNhY2hlZCBuZXdzIGluc3RhbnRseScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2FjaGUgZXhpc3RzIGJ1dCBpcyBjb3JydXB0ZWQvaW52YWxpZCAtIGdlbmVyYXRlIGZyZXNoXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIENhY2hlIGNvcnJ1cHRlZCwgZmV0Y2hpbmcgZnJlc2ggcmVhbCBuZXdzLi4uJyk7XG4gICAgICAgIGFsbEFydGljbGVzID0gYXdhaXQgZmV0Y2hSZWFsTmV3cygpO1xuICAgICAgICBzYXZlVG9DYWNoZShhbGxBcnRpY2xlcyk7XG4gICAgICAgIGNhY2hlU3RhdHVzID0gJ3JlY292ZXJlZCc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9ubHkgZ2VuZXJhdGUgc3luY2hyb25vdXNseSBpZiBubyBjYWNoZSBleGlzdHMgYXQgYWxsIChmaXJzdCB0aW1lKVxuICAgICAgY29uc29sZS5sb2coJ/CflIQgTm8gY2FjaGUgZm91bmQsIGZldGNoaW5nIGluaXRpYWwgcmVhbCBuZXdzLi4uJyk7XG4gICAgICBhbGxBcnRpY2xlcyA9IGF3YWl0IGZldGNoUmVhbE5ld3MoKTtcbiAgICAgIHNhdmVUb0NhY2hlKGFsbEFydGljbGVzKTtcbiAgICAgIGNhY2hlU3RhdHVzID0gJ2luaXRpYWwnO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgcGFnaW5hdGlvblxuICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBwYXJzZUludChwYWdlKTtcbiAgICBjb25zdCBsaW1pdE51bWJlciA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gKHBhZ2VOdW1iZXIgLSAxKSAqIGxpbWl0TnVtYmVyO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIGxpbWl0TnVtYmVyO1xuICAgIFxuICAgIGNvbnN0IHBhZ2luYXRlZEFydGljbGVzID0gYWxsQXJ0aWNsZXMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgIFxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIGFydGljbGVzOiBwYWdpbmF0ZWRBcnRpY2xlcyxcbiAgICAgIHRvdGFsOiBhbGxBcnRpY2xlcy5sZW5ndGgsXG4gICAgICBwYWdlOiBwYWdlTnVtYmVyLFxuICAgICAgaGFzTW9yZTogZW5kSW5kZXggPCBhbGxBcnRpY2xlcy5sZW5ndGgsXG4gICAgICB0eXBlOiAncmVhbF9uZXdzX3dpdGhfY2FjaGUnLFxuICAgICAgY2FjaGVTdGF0dXM6IGNhY2hlU3RhdHVzLFxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgbmV3cycsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIFxuICAgIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbImZzIiwicGF0aCIsIk5FV1NBUElfS0VZIiwicHJvY2VzcyIsImVudiIsIk5FV1NBUElfQkFTRV9VUkwiLCJDQUNIRV9EVVJBVElPTiIsIkNBQ0hFX0ZJTEUiLCJqb2luIiwiY3dkIiwiYmFja2dyb3VuZEludGVydmFsIiwiaXNHZW5lcmF0aW5nIiwiY2FjaGVFeGlzdHMiLCJleGlzdHNTeW5jIiwiZXJyb3IiLCJjb25zb2xlIiwiY2FjaGVOZWVkc1JlZnJlc2giLCJjYWNoZURhdGEiLCJKU09OIiwicGFyc2UiLCJyZWFkRmlsZVN5bmMiLCJub3ciLCJEYXRlIiwiY2FjaGVBZ2UiLCJ0aW1lc3RhbXAiLCJsb2FkQ2FjaGVkTmV3cyIsImFydGljbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiRXJyb3IiLCJsb2ciLCJ1bmxpbmtTeW5jIiwiZGVsZXRlRXJyb3IiLCJzYXZlVG9DYWNoZSIsImdlbmVyYXRlZEF0IiwidG9JU09TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwic3RyaW5naWZ5IiwiZ2VuZXJhdGVOZXdzSW5CYWNrZ3JvdW5kIiwiZmV0Y2hSZWFsTmV3cyIsInN0YXJ0QmFja2dyb3VuZEdlbmVyYXRpb24iLCJzZXRJbnRlcnZhbCIsInF1ZXJpZXMiLCJzb3VyY2VzIiwiYWxsQXJ0aWNsZXMiLCJpIiwicXVlcnkiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJ3YXJuIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJ2YWxpZEFydGljbGVzIiwiZmlsdGVyIiwiYXJ0aWNsZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwdXNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZmV0Y2hFcnJvciIsIm1lc3NhZ2UiLCJ1bmlxdWVBcnRpY2xlcyIsImluZGV4Iiwic2VsZiIsImZpbmRJbmRleCIsImEiLCJzb3J0IiwiYiIsInB1Ymxpc2hlZEF0IiwicHJvY2Vzc2VkQXJ0aWNsZXMiLCJzbGljZSIsIm1hcCIsImNhdGVnb3J5IiwiY2F0ZWdvcml6ZVJlYWxOZXdzIiwiaW1wb3J0YW5jZSIsImdldEltcG9ydGFuY2VMZXZlbCIsImlkIiwicmFuayIsInN1bW1hcnkiLCJmdWxsQ29udGVudCIsImNvbnRlbnQiLCJzb3VyY2UiLCJuYW1lIiwidXJsVG9JbWFnZSIsImdldEZhbGxiYWNrTmV3cyIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJyZWxpYWJsZVNvdXJjZXMiLCJzb3VyY2VOYW1lIiwiaXNSZWxpYWJsZVNvdXJjZSIsInNvbWUiLCJpc1JlY2VudCIsImhpZ2hseUNyZWRpYmxlIiwiaXNIaWdobHlDcmVkaWJsZSIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJwYWdlIiwibGltaXQiLCJjYWNoZVN0YXR1cyIsInBhZ2VOdW1iZXIiLCJwYXJzZUludCIsImxpbWl0TnVtYmVyIiwic3RhcnRJbmRleCIsImVuZEluZGV4IiwicGFnaW5hdGVkQXJ0aWNsZXMiLCJ0b3RhbCIsImhhc01vcmUiLCJ0eXBlIiwidXBkYXRlZEF0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/english-news.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fenglish-news&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fenglish-news.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();